/**
 * Color utilities for team-color theming.
 *
 * Converts hex colors to RGB triplets for CSS custom property usage,
 * and detects light colors for accessibility-safe contrast decisions.
 */

/** Convert hex color to comma-separated RGB string for rgba() usage. */
export function hexToRgb(hex: string): string {
  const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
  if (!result) return '0, 0, 0';
  return `${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(result[3], 16)}`;
}

/** Detect light colors using relative luminance (ITU-R BT.601 weights). */
export function isLightColor(hex: string): boolean {
  const r = parseInt(hex.slice(1, 3), 16);
  const g = parseInt(hex.slice(3, 5), 16);
  const b = parseInt(hex.slice(5, 7), 16);
  return (r * 299 + g * 587 + b * 114) / 1000 > 128;
}
