# =============================================================================
# BSI Live Scores â€” WebSocket Durable Object Worker
# =============================================================================
# Standalone worker for real-time college baseball score updates.
# Clients connect via WebSocket and receive delta-only score broadcasts.
#
# Deploy: wrangler deploy --config workers/bsi-live-scores/wrangler.toml
# Secrets: wrangler secret put RAPIDAPI_KEY --config workers/bsi-live-scores/wrangler.toml
# =============================================================================

name = "bsi-live-scores"
main = "index.ts"
compatibility_date = "2025-12-01"

[[durable_objects.bindings]]
name = "LIVE_SCORES"
class_name = "LiveScoresBroadcaster"

[[migrations]]
tag = "v1"
new_classes = ["LiveScoresBroadcaster"]

[[routes]]
pattern = "live.blazesportsintel.com/*"
zone_name = "blazesportsintel.com"

[vars]
ENVIRONMENT = "production"

[dev]
port = 8790
local_protocol = "http"
