# bsi-nil-sync
# NIL (Name, Image, Likeness) data pipeline for college baseball
# Sources: NIL Athletes API (RapidAPI), Highlightly API
# Cron: Daily at 6 AM Central

name = "bsi-nil-sync"
main = "index.ts"
compatibility_date = "2025-03-07"
compatibility_flags = ["nodejs_compat"]
account_id = "a12cb329d84130460eed99b816e4d0d3"

# Observability
[observability]
enabled = true
head_sampling_rate = 1

# Environment variables
[vars]
ENVIRONMENT = "production"

# D1 Database binding (same as college-data-sync)
[[d1_databases]]
binding = "BSI_DB"
database_name = "bsi-game-db"
database_id = "88eb676f-af0f-470c-a46a-b9429f5b51f3"

# KV namespace for rate limiting and caching
[[kv_namespaces]]
binding = "BSI_CACHE"
id = "a53c3726fc3044be82e79d2d1e371d26"

# Analytics Engine for sync event logging
[[analytics_engine_datasets]]
binding = "ANALYTICS"
dataset = "bsi_nil_sync_analytics"

# Cron trigger - daily at 6 AM Central (11 AM UTC during CST, 12 PM UTC during CDT)
[triggers]
crons = ["0 11 * * *"]

# Development configuration
[dev]
port = 8791
