name = "bsi-cfb-ai"
main = "index.ts"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

[vars]
ENVIRONMENT = "production"

[ai]
binding = "AI"

[[kv_namespaces]]
binding = "BSI_CFB_CACHE"
id = "963541b67da84e36919914e914a1bb31"

[[d1_databases]]
binding = "BSI_HISTORICAL_DB"
database_name = "bsi-historical-db"
database_id = "9cecff0f-a3ab-433f-bf10-d2664d9542b0"

# Cron triggers:
# - 6 AM CT: Pre-generate AI content for today's games
# - Every 4 hours: Fetch coded content from SportsDataIO
[triggers]
crons = ["0 6 * * *", "0 */4 * * *"]

# Account ID
account_id = "a12cb329d84130460eed99b816e4d0d3"

# Observability
[observability.logs]
enabled = true

# Development settings
[dev]
port = 8791
local_protocol = "http"

# Staging environment
[env.staging]
name = "bsi-cfb-ai-staging"
[env.staging.vars]
ENVIRONMENT = "staging"
