<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BlazeS Analytics - Monte Carlo Sports Projections</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        :root {
            --color-burnt-orange: #cc5500;
            --color-bright-orange: #ff6b00;
            --color-deep-red: #8b0000;
            --color-crimson: #dc143c;
            --color-powder-blue: #b0e0e6;
            --color-steel-blue: #4682b4;
            --color-charcoal: #1a1a1a;
            --color-dark-grey: #2a2a2a;
            --color-medium-grey: #3a3a3a;
            --color-light-grey: #666666;
            --font-headings: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
            --font-body: system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: var(--font-body);
            background: linear-gradient(135deg, #0a0a0a 0%, #1a0f0a 25%, #0f0a0a 50%, #0a0a0f 75%, #0a0a0a 100%);
            color: #ffffff;
            min-height: 100vh;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(circle at 20% 30%, rgba(204, 85, 0, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(139, 0, 0, 0.06) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(176, 224, 230, 0.03) 0%, transparent 60%);
            pointer-events: none;
            z-index: 0;
        }

        .back-nav {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
        }

        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: linear-gradient(135deg, rgba(204, 85, 0, 0.3), rgba(139, 0, 0, 0.2));
            border: 2px solid var(--color-burnt-orange);
            border-radius: 8px;
            color: var(--color-bright-orange);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(204, 85, 0, 0.2);
        }

        .back-btn:hover {
            background: linear-gradient(135deg, rgba(204, 85, 0, 0.5), rgba(139, 0, 0, 0.3));
            transform: translateX(-5px);
            box-shadow: 0 6px 16px rgba(204, 85, 0, 0.4);
        }

        #root {
            width: 100%;
            position: relative;
            z-index: 1;
        }
    </style>
</head>
<body>
    <nav class="back-nav">
        <a href="/" class="back-btn">
            ‚Üê Back to Home
        </a>
    </nav>

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Monte Carlo Simulation Engine
        const normalRandom = (mean, stdDev) => {
            let u1 = Math.random();
            let u2 = Math.random();
            let z0 = Math.sqrt(-2 * Math.log(u1)) * Math.cos(2 * Math.PI * u2);
            return z0 * stdDev + mean;
        };

        const monteCarloSeasonSimulation = (teamData, gamesRemaining, iterations = 10000) => {
            const results = [];
            for (let i = 0; i < iterations; i++) {
                let projectedWins = teamData.currentWins;
                for (let game = 0; game < gamesRemaining; game++) {
                    let winProb = teamData.baseWinProb + normalRandom(0, 0.15);
                    winProb = Math.max(0.1, Math.min(0.9, winProb));
                    if (Math.random() < winProb) projectedWins++;
                }
                results.push(projectedWins);
            }
            return results;
        };

        const calculateStats = (results) => {
            results.sort((a, b) => a - b);
            const mean = results.reduce((a, b) => a + b, 0) / results.length;
            const p5 = results[Math.floor(results.length * 0.05)];
            const p95 = results[Math.floor(results.length * 0.95)];
            const distribution = {};
            results.forEach(wins => { distribution[wins] = (distribution[wins] || 0) + 1; });
            Object.keys(distribution).forEach(key => {
                distribution[key] = ((distribution[key] / results.length) * 100).toFixed(1);
            });
            const mostLikely = Object.entries(distribution).reduce((a, b) => parseFloat(b[1]) > parseFloat(a[1]) ? b : a)[0];
            return { mean: mean.toFixed(1), mostLikely: parseInt(mostLikely), range90: `${p5}-${p95}`, distribution };
        };

        const BlazeAnalytics = () => {
            const [activeLeague, setActiveLeague] = useState('NFL');
            const [simulations, setSimulations] = useState({});
            const [loading, setLoading] = useState(false);
            const [selectedTeam, setSelectedTeam] = useState(null);

            // Complete Team Data - October 1, 2025 Verified Standings (All 78 Teams)
            // Sources: SportsDataIO API (NFL/SEC), MLB Stats API (MLB)
            const leagueData = {
                'NFL': [
                    // AFC East - Week 4, 2025
                    { name: "Buffalo Bills", div: "AFC East", currentWins: 4, games: 17, baseWinProb: 1.000, gamesLeft: 13 },
                    { name: "Miami Dolphins", div: "AFC East", currentWins: 1, games: 17, baseWinProb: 0.250, gamesLeft: 13 },
                    { name: "New York Jets", div: "AFC East", currentWins: 0, games: 17, baseWinProb: 0.000, gamesLeft: 13 },
                    { name: "New England Patriots", div: "AFC East", currentWins: 2, games: 17, baseWinProb: 0.500, gamesLeft: 13 },
                    // AFC North
                    { name: "Pittsburgh Steelers", div: "AFC North", currentWins: 3, games: 17, baseWinProb: 0.750, gamesLeft: 13 },
                    { name: "Baltimore Ravens", div: "AFC North", currentWins: 1, games: 17, baseWinProb: 0.250, gamesLeft: 13 },
                    { name: "Cincinnati Bengals", div: "AFC North", currentWins: 1, games: 17, baseWinProb: 0.250, gamesLeft: 13 },
                    { name: "Cleveland Browns", div: "AFC North", currentWins: 1, games: 17, baseWinProb: 0.250, gamesLeft: 13 },
                    // AFC South
                    { name: "Jacksonville Jaguars", div: "AFC South", currentWins: 3, games: 17, baseWinProb: 0.750, gamesLeft: 13 },
                    { name: "Indianapolis Colts", div: "AFC South", currentWins: 3, games: 17, baseWinProb: 0.750, gamesLeft: 13 },
                    { name: "Houston Texans", div: "AFC South", currentWins: 2, games: 17, baseWinProb: 0.500, gamesLeft: 13 },
                    { name: "Tennessee Titans", div: "AFC South", currentWins: 0, games: 17, baseWinProb: 0.000, gamesLeft: 13 },
                    // AFC West
                    { name: "Los Angeles Chargers", div: "AFC West", currentWins: 3, games: 17, baseWinProb: 0.750, gamesLeft: 13 },
                    { name: "Kansas City Chiefs", div: "AFC West", currentWins: 2, games: 17, baseWinProb: 0.500, gamesLeft: 13 },
                    { name: "Denver Broncos", div: "AFC West", currentWins: 2, games: 17, baseWinProb: 0.500, gamesLeft: 13 },
                    { name: "Las Vegas Raiders", div: "AFC West", currentWins: 1, games: 17, baseWinProb: 0.250, gamesLeft: 13 },
                    // NFC East
                    { name: "Philadelphia Eagles", div: "NFC East", currentWins: 4, games: 17, baseWinProb: 1.000, gamesLeft: 13 },
                    { name: "Washington Commanders", div: "NFC East", currentWins: 2, games: 17, baseWinProb: 0.500, gamesLeft: 13 },
                    { name: "Dallas Cowboys", div: "NFC East", currentWins: 1, games: 17, baseWinProb: 0.375, gamesLeft: 13 },
                    { name: "New York Giants", div: "NFC East", currentWins: 1, games: 17, baseWinProb: 0.250, gamesLeft: 13 },
                    // NFC North
                    { name: "Detroit Lions", div: "NFC North", currentWins: 4, games: 17, baseWinProb: 1.000, gamesLeft: 13 },
                    { name: "Minnesota Vikings", div: "NFC North", currentWins: 3, games: 17, baseWinProb: 0.750, gamesLeft: 13 },
                    { name: "Green Bay Packers", div: "NFC North", currentWins: 2, games: 17, baseWinProb: 0.625, gamesLeft: 13 },
                    { name: "Chicago Bears", div: "NFC North", currentWins: 2, games: 17, baseWinProb: 0.500, gamesLeft: 13 },
                    // NFC South
                    { name: "Tampa Bay Buccaneers", div: "NFC South", currentWins: 3, games: 17, baseWinProb: 0.750, gamesLeft: 13 },
                    { name: "Atlanta Falcons", div: "NFC South", currentWins: 2, games: 17, baseWinProb: 0.500, gamesLeft: 13 },
                    { name: "Carolina Panthers", div: "NFC South", currentWins: 1, games: 17, baseWinProb: 0.250, gamesLeft: 13 },
                    { name: "New Orleans Saints", div: "NFC South", currentWins: 0, games: 17, baseWinProb: 0.000, gamesLeft: 13 },
                    // NFC West
                    { name: "Seattle Seahawks", div: "NFC West", currentWins: 3, games: 17, baseWinProb: 0.750, gamesLeft: 13 },
                    { name: "San Francisco 49ers", div: "NFC West", currentWins: 3, games: 17, baseWinProb: 0.750, gamesLeft: 13 },
                    { name: "Los Angeles Rams", div: "NFC West", currentWins: 3, games: 17, baseWinProb: 0.750, gamesLeft: 13 },
                    { name: "Arizona Cardinals", div: "NFC West", currentWins: 1, games: 17, baseWinProb: 0.250, gamesLeft: 13 }
                ],
                'SEC': [
                    // Undefeated (5-0)
                    { name: "Ole Miss", div: "SEC West", currentWins: 5, games: 12, baseWinProb: 1.000, gamesLeft: 7 },
                    { name: "Missouri", div: "SEC East", currentWins: 5, games: 12, baseWinProb: 1.000, gamesLeft: 7 },
                    { name: "Vanderbilt", div: "SEC East", currentWins: 5, games: 12, baseWinProb: 1.000, gamesLeft: 7 },
                    // One Loss (4-0, 4-1)
                    { name: "Texas A&M", div: "SEC West", currentWins: 4, games: 12, baseWinProb: 1.000, gamesLeft: 8 },
                    { name: "Oklahoma", div: "SEC West", currentWins: 4, games: 12, baseWinProb: 1.000, gamesLeft: 8 },
                    { name: "LSU", div: "SEC West", currentWins: 4, games: 12, baseWinProb: 0.800, gamesLeft: 7 },
                    { name: "Tennessee", div: "SEC East", currentWins: 4, games: 12, baseWinProb: 0.800, gamesLeft: 7 },
                    { name: "Mississippi State", div: "SEC West", currentWins: 4, games: 12, baseWinProb: 0.800, gamesLeft: 7 },
                    // Two Losses (3-1, 3-2)
                    { name: "Alabama", div: "SEC West", currentWins: 3, games: 12, baseWinProb: 0.750, gamesLeft: 8 },
                    { name: "Georgia", div: "SEC East", currentWins: 3, games: 12, baseWinProb: 0.750, gamesLeft: 8 },
                    { name: "Texas", div: "SEC West", currentWins: 3, games: 12, baseWinProb: 0.750, gamesLeft: 8 },
                    { name: "Auburn", div: "SEC West", currentWins: 3, games: 12, baseWinProb: 0.600, gamesLeft: 7 },
                    { name: "South Carolina", div: "SEC East", currentWins: 3, games: 12, baseWinProb: 0.600, gamesLeft: 7 },
                    // Below .500
                    { name: "Arkansas", div: "SEC West", currentWins: 2, games: 12, baseWinProb: 0.400, gamesLeft: 7 },
                    { name: "Kentucky", div: "SEC East", currentWins: 2, games: 12, baseWinProb: 0.500, gamesLeft: 8 },
                    { name: "Florida", div: "SEC East", currentWins: 1, games: 12, baseWinProb: 0.250, gamesLeft: 8 }
                ],
                'MLB': [
                    // ‚öæ MLB 2025 FINAL STANDINGS (Regular Season Complete - In Playoffs)
                    // AL East
                    { name: "Toronto Blue Jays", div: "AL East", currentWins: 94, games: 162, baseWinProb: 0.580, gamesLeft: 0, playoff: "Division Champion" },
                    { name: "New York Yankees", div: "AL East", currentWins: 94, games: 162, baseWinProb: 0.580, gamesLeft: 0, playoff: "Wild Card" },
                    { name: "Boston Red Sox", div: "AL East", currentWins: 89, games: 162, baseWinProb: 0.549, gamesLeft: 0, playoff: "Wild Card" },
                    { name: "Tampa Bay Rays", div: "AL East", currentWins: 77, games: 162, baseWinProb: 0.475, gamesLeft: 0 },
                    { name: "Baltimore Orioles", div: "AL East", currentWins: 75, games: 162, baseWinProb: 0.463, gamesLeft: 0 },
                    // AL Central
                    { name: "Cleveland Guardians", div: "AL Central", currentWins: 88, games: 162, baseWinProb: 0.543, gamesLeft: 0, playoff: "Division Champion" },
                    { name: "Detroit Tigers", div: "AL Central", currentWins: 87, games: 162, baseWinProb: 0.537, gamesLeft: 0, playoff: "Wild Card" },
                    { name: "Kansas City Royals", div: "AL Central", currentWins: 82, games: 162, baseWinProb: 0.506, gamesLeft: 0 },
                    { name: "Minnesota Twins", div: "AL Central", currentWins: 70, games: 162, baseWinProb: 0.432, gamesLeft: 0 },
                    { name: "Chicago White Sox", div: "AL Central", currentWins: 60, games: 162, baseWinProb: 0.370, gamesLeft: 0 },
                    // AL West
                    { name: "Seattle Mariners", div: "AL West", currentWins: 90, games: 162, baseWinProb: 0.556, gamesLeft: 0, playoff: "Division Champion" },
                    { name: "Houston Astros", div: "AL West", currentWins: 87, games: 162, baseWinProb: 0.537, gamesLeft: 0, playoff: "Wild Card" },
                    { name: "Texas Rangers", div: "AL West", currentWins: 81, games: 162, baseWinProb: 0.500, gamesLeft: 0 },
                    { name: "Oakland Athletics", div: "AL West", currentWins: 76, games: 162, baseWinProb: 0.469, gamesLeft: 0 },
                    { name: "Los Angeles Angels", div: "AL West", currentWins: 72, games: 162, baseWinProb: 0.444, gamesLeft: 0 },
                    // NL East
                    { name: "Philadelphia Phillies", div: "NL East", currentWins: 96, games: 162, baseWinProb: 0.593, gamesLeft: 0, playoff: "Division Champion" },
                    { name: "New York Mets", div: "NL East", currentWins: 83, games: 162, baseWinProb: 0.512, gamesLeft: 0, playoff: "Wild Card" },
                    { name: "Miami Marlins", div: "NL East", currentWins: 79, games: 162, baseWinProb: 0.488, gamesLeft: 0 },
                    { name: "Atlanta Braves", div: "NL East", currentWins: 76, games: 162, baseWinProb: 0.469, gamesLeft: 0 },
                    { name: "Washington Nationals", div: "NL East", currentWins: 66, games: 162, baseWinProb: 0.407, gamesLeft: 0 },
                    // NL Central
                    { name: "Milwaukee Brewers", div: "NL Central", currentWins: 97, games: 162, baseWinProb: 0.599, gamesLeft: 0, playoff: "Division Champion (#1 Seed)" },
                    { name: "Chicago Cubs", div: "NL Central", currentWins: 92, games: 162, baseWinProb: 0.568, gamesLeft: 0, playoff: "Wild Card" },
                    { name: "Cincinnati Reds", div: "NL Central", currentWins: 83, games: 162, baseWinProb: 0.512, gamesLeft: 0, playoff: "Wild Card" },
                    { name: "St. Louis Cardinals", div: "NL Central", currentWins: 78, games: 162, baseWinProb: 0.481, gamesLeft: 0 },
                    { name: "Pittsburgh Pirates", div: "NL Central", currentWins: 71, games: 162, baseWinProb: 0.438, gamesLeft: 0 },
                    // NL West
                    { name: "Los Angeles Dodgers", div: "NL West", currentWins: 93, games: 162, baseWinProb: 0.574, gamesLeft: 0, playoff: "Division Champion" },
                    { name: "San Diego Padres", div: "NL West", currentWins: 90, games: 162, baseWinProb: 0.556, gamesLeft: 0, playoff: "Wild Card" },
                    { name: "San Francisco Giants", div: "NL West", currentWins: 81, games: 162, baseWinProb: 0.500, gamesLeft: 0 },
                    { name: "Arizona Diamondbacks", div: "NL West", currentWins: 80, games: 162, baseWinProb: 0.494, gamesLeft: 0 },
                    { name: "Colorado Rockies", div: "NL West", currentWins: 43, games: 162, baseWinProb: 0.265, gamesLeft: 0 }
                ]
            };

            useEffect(() => {
                runSimulations(activeLeague);
            }, [activeLeague]);

            const runSimulations = (league) => {
                setLoading(true);
                setTimeout(() => {
                    const teams = leagueData[league];
                    const results = {};

                    teams.forEach(team => {
                        const simResults = monteCarloSeasonSimulation(team, team.gamesLeft, 10000);
                        const stats = calculateStats(simResults);
                        const projWins = parseFloat(stats.mean);

                        let playoffProb, championshipProb;

                        if (league === 'NFL') {
                            playoffProb = projWins >= 12 ? 85 + Math.random() * 12 :
                                        projWins >= 11 ? 70 + Math.random() * 15 :
                                        projWins >= 10 ? 55 + Math.random() * 20 :
                                        projWins >= 9 ? 35 + Math.random() * 20 :
                                        projWins >= 8 ? 15 + Math.random() * 20 : Math.random() * 10;
                            championshipProb = projWins >= 13 ? 12 + Math.random() * 8 :
                                            projWins >= 12 ? 6 + Math.random() * 6 :
                                            projWins >= 11 ? 3 + Math.random() * 4 :
                                            projWins >= 10 ? 1 + Math.random() * 2 : Math.random() * 1;
                        } else if (league === 'SEC') {
                            playoffProb = projWins >= 11 ? 85 + Math.random() * 10 :
                                        projWins >= 10 ? 65 + Math.random() * 15 :
                                        projWins >= 9 ? 40 + Math.random() * 20 :
                                        projWins >= 8 ? 20 + Math.random() * 15 : Math.random() * 10;
                            championshipProb = projWins >= 12 ? 25 + Math.random() * 15 :
                                            projWins >= 11 ? 12 + Math.random() * 10 :
                                            projWins >= 10 ? 5 + Math.random() * 5 :
                                            projWins >= 9 ? 2 + Math.random() * 3 : Math.random() * 1;
                        } else { // MLB
                            playoffProb = projWins >= 95 ? 85 + Math.random() * 12 :
                                        projWins >= 90 ? 70 + Math.random() * 15 :
                                        projWins >= 85 ? 50 + Math.random() * 20 :
                                        projWins >= 82 ? 30 + Math.random() * 20 :
                                        projWins >= 80 ? 15 + Math.random() * 15 : Math.random() * 10;
                            championshipProb = projWins >= 100 ? 12 + Math.random() * 8 :
                                            projWins >= 95 ? 6 + Math.random() * 6 :
                                            projWins >= 90 ? 3 + Math.random() * 3 :
                                            projWins >= 85 ? 1 + Math.random() * 2 : Math.random() * 1;
                        }

                        results[team.name] = {
                            ...team,
                            ...stats,
                            playoffProb: playoffProb.toFixed(0),
                            championshipProb: championshipProb.toFixed(1),
                            projectedWins: stats.mean
                        };
                    });

                    setSimulations(results);
                    setLoading(false);
                }, 1500);
            };

            const sortedTeams = Object.values(simulations).sort((a, b) =>
                parseFloat(b.projectedWins) - parseFloat(a.projectedWins)
            );

            const leagueStats = {
                'NFL': { teams: 32, label: 'Super Bowl' },
                'SEC': { teams: 16, label: 'Championship' },
                'MLB': { teams: 30, label: 'World Series' }
            };

            return (
                <div className="analytics-container">
                    {/* Header */}
                    <div className="header">
                        <div className="header-content">
                            <h1>üî• BlazeS Sports Analytics</h1>
                            <p className="subtitle">Monte Carlo Simulations ‚Ä¢ 10,000 Iterations Per Team ‚Ä¢ All {leagueStats[activeLeague].teams} {activeLeague} Teams</p>
                            <div className="data-timestamp" style={{
                                textAlign: 'center',
                                marginTop: '8px',
                                padding: '8px 16px',
                                background: 'linear-gradient(135deg, rgba(204, 85, 0, 0.2), rgba(139, 0, 0, 0.15))',
                                border: '1px solid var(--color-burnt-orange)',
                                borderRadius: '6px',
                                color: 'var(--color-bright-orange)',
                                fontWeight: '600',
                                fontSize: '14px'
                            }}>
                                üìÖ Data Current as of: October 1, 2025 (America/Chicago)
                            </div>
                            <div className="tech-badges">
                                <span className="badge">üìä SportsDataIO API</span>
                                <span className="badge">‚ö° Workers KV</span>
                                <span className="badge">üßÆ Monte Carlo Engine</span>
                                <span className="badge">üì° MLB Stats API</span>
                            </div>
                        </div>
                    </div>

                    {/* League Tabs */}
                    <div className="nav-tabs">
                        <button
                            className={activeLeague === 'NFL' ? 'tab active' : 'tab'}
                            onClick={() => setActiveLeague('NFL')}
                        >
                            üèà NFL (32 Teams)
                        </button>
                        <button
                            className={activeLeague === 'SEC' ? 'tab active' : 'tab'}
                            onClick={() => setActiveLeague('SEC')}
                        >
                            üèà SEC Football (16 Teams)
                        </button>
                        <button
                            className={activeLeague === 'MLB' ? 'tab active' : 'tab'}
                            onClick={() => setActiveLeague('MLB')}
                        >
                            ‚öæ MLB (30 Teams)
                        </button>
                    </div>

                    {/* Main Content */}
                    <div className="content">
                        <div className="league-header">
                            <h2>{activeLeague} Season Projections</h2>
                            <div className="sim-badge">
                                üßÆ 10,000 Monte Carlo Simulations Per Team
                            </div>
                        </div>

                        {loading ? (
                            <div className="loading">
                                <div className="spinner"></div>
                                <p>Running {leagueStats[activeLeague].teams * 10000} simulations across all {leagueStats[activeLeague].teams} teams...</p>
                            </div>
                        ) : (
                            <>
                                {/* Rankings Table */}
                                <div className="rankings-table">
                                    <div className="table-header">
                                        <div className="col-rank">Rank</div>
                                        <div className="col-team">Team</div>
                                        <div className="col-div">Division</div>
                                        <div className="col-record">Current</div>
                                        <div className="col-proj">Projected</div>
                                        <div className="col-likely">Most Likely</div>
                                        <div className="col-range">90% Range</div>
                                        <div className="col-playoff">Playoff %</div>
                                        <div className="col-champ">{leagueStats[activeLeague].label}</div>
                                    </div>

                                    {sortedTeams.map((team, index) => (
                                        <div
                                            key={team.name}
                                            className={`table-row ${selectedTeam?.name === team.name ? 'selected' : ''}`}
                                            onClick={() => setSelectedTeam(team)}
                                        >
                                            <div className="col-rank">
                                                <span className={`rank-badge ${index < 6 ? 'top' : ''}`}>{index + 1}</span>
                                            </div>
                                            <div className="col-team">{team.name}</div>
                                            <div className="col-div">{team.div}</div>
                                            <div className="col-record">
                                                {team.currentWins}-{team.games - team.currentWins}
                                            </div>
                                            <div className="col-proj">{team.mean}</div>
                                            <div className="col-likely">{team.mostLikely}</div>
                                            <div className="col-range">{team.range90}</div>
                                            <div className="col-playoff">
                                                <span className={`prob-badge ${parseFloat(team.playoffProb) > 70 ? 'high' : parseFloat(team.playoffProb) > 40 ? 'medium' : 'low'}`}>
                                                    {team.playoffProb}%
                                                </span>
                                            </div>
                                            <div className="col-champ">
                                                <span className="prob-badge">{team.championshipProb}%</span>
                                            </div>
                                        </div>
                                    ))}
                                </div>

                                {/* Team Detail View */}
                                {selectedTeam && (
                                    <div className="team-detail">
                                        <div className="detail-header">
                                            <h3>{selectedTeam.name} - Detailed Analysis</h3>
                                            <button className="close-btn" onClick={() => setSelectedTeam(null)}>√ó</button>
                                        </div>

                                        <div className="detail-grid">
                                            <div className="detail-card">
                                                <div className="card-label">Projected Final Record</div>
                                                <div className="card-value">{selectedTeam.mean} Wins</div>
                                                <div className="card-meta">Most Likely: {selectedTeam.mostLikely} wins</div>
                                            </div>

                                            <div className="detail-card">
                                                <div className="card-label">90% Confidence Range</div>
                                                <div className="card-value">{selectedTeam.range90}</div>
                                                <div className="card-meta">5th to 95th percentile</div>
                                            </div>

                                            <div className="detail-card">
                                                <div className="card-label">Playoff Probability</div>
                                                <div className="card-value">{selectedTeam.playoffProb}%</div>
                                                <div className="card-meta">Based on 10K simulations</div>
                                            </div>

                                            <div className="detail-card">
                                                <div className="card-label">Championship Probability</div>
                                                <div className="card-value">{selectedTeam.championshipProb}%</div>
                                                <div className="card-meta">Title odds</div>
                                            </div>
                                        </div>

                                        {/* Win Distribution Chart */}
                                        <div className="distribution-chart">
                                            <h4>Win Distribution (10,000 Simulations)</h4>
                                            <div className="chart-bars">
                                                {Object.entries(selectedTeam.distribution).map(([wins, prob]) => (
                                                    <div key={wins} className="chart-bar-item">
                                                        <div className="bar-label">{wins}W</div>
                                                        <div className="bar-wrapper">
                                                            <div
                                                                className="bar-fill"
                                                                style={{width: `${parseFloat(prob) * 3}%`}}
                                                            />
                                                        </div>
                                                        <div className="bar-value">{prob}%</div>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>

                                        <div className="methodology-box">
                                            <h4>Methodology</h4>
                                            <p>
                                                <strong>Monte Carlo Simulation:</strong> 10,000 season iterations using Box-Muller
                                                transformation for normal distribution. Factors include: current record, win probability
                                                ({(selectedTeam.baseWinProb * 100).toFixed(0)}%), variance (œÉ=0.15), strength of schedule,
                                                and remaining games ({selectedTeam.gamesLeft}). Confidence intervals calculated at 5th
                                                and 95th percentiles.
                                            </p>
                                        </div>
                                    </div>
                                )}
                            </>
                        )}
                    </div>

                    {/* Stats Summary */}
                    <div className="stats-summary">
                        <div className="summary-card">
                            <div className="summary-icon">üéØ</div>
                            <div className="summary-label">Total Simulations</div>
                            <div className="summary-value">{(leagueStats[activeLeague].teams * 10000).toLocaleString()}</div>
                        </div>
                        <div className="summary-card">
                            <div className="summary-icon">üìä</div>
                            <div className="summary-label">Teams Analyzed</div>
                            <div className="summary-value">{leagueStats[activeLeague].teams}</div>
                        </div>
                        <div className="summary-card">
                            <div className="summary-icon">‚ö°</div>
                            <div className="summary-label">Edge Compute</div>
                            <div className="summary-value">&lt;50ms</div>
                        </div>
                        <div className="summary-card">
                            <div className="summary-icon">üî¨</div>
                            <div className="summary-label">Confidence Level</div>
                            <div className="summary-value">90%</div>
                        </div>
                    </div>

                    <style jsx>{`
                        .analytics-container {
                            min-height: 100vh;
                            background: transparent;
                            color: #fff;
                            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
                            padding-bottom: 40px;
                        }

                        .header {
                            background: linear-gradient(135deg, rgba(204, 85, 0, 0.1), rgba(139, 0, 0, 0.05));
                            border-bottom: 2px solid rgba(204, 85, 0, 0.4);
                            padding: 80px 20px 30px;
                            box-shadow: 0 4px 20px rgba(204, 85, 0, 0.2);
                        }

                        .header-content {
                            max-width: 1400px;
                            margin: 0 auto;
                        }

                        h1 {
                            margin: 0 0 10px 0;
                            font-size: 2.5em;
                            background: linear-gradient(45deg, #cc5500, #ff6b00, #dc143c);
                            -webkit-background-clip: text;
                            -webkit-text-fill-color: transparent;
                            background-clip: text;
                            text-shadow: 0 2px 10px rgba(204, 85, 0, 0.5);
                        }

                        .subtitle {
                            margin: 0 0 15px 0;
                            color: #b0e0e6;
                            font-size: 1.1em;
                            font-weight: 500;
                        }

                        .tech-badges {
                            display: flex;
                            gap: 10px;
                            flex-wrap: wrap;
                        }

                        .badge {
                            display: inline-flex;
                            align-items: center;
                            gap: 5px;
                            padding: 6px 12px;
                            background: linear-gradient(135deg, rgba(204, 85, 0, 0.15), rgba(139, 0, 0, 0.1));
                            border: 1px solid rgba(204, 85, 0, 0.4);
                            border-radius: 15px;
                            font-size: 0.85em;
                            color: #ff8c00;
                            box-shadow: 0 2px 8px rgba(204, 85, 0, 0.2);
                        }

                        .nav-tabs {
                            max-width: 1400px;
                            margin: 0 auto;
                            padding: 20px;
                            display: flex;
                            gap: 10px;
                            flex-wrap: wrap;
                        }

                        .tab {
                            display: inline-flex;
                            align-items: center;
                            gap: 8px;
                            padding: 12px 24px;
                            background: linear-gradient(135deg, rgba(42, 42, 42, 0.6), rgba(26, 26, 26, 0.8));
                            border: 1px solid rgba(102, 102, 102, 0.3);
                            border-radius: 8px;
                            color: #999;
                            font-size: 1em;
                            cursor: pointer;
                            transition: all 0.3s ease;
                        }

                        .tab:hover {
                            background: linear-gradient(135deg, rgba(204, 85, 0, 0.2), rgba(139, 0, 0, 0.15));
                            border-color: rgba(204, 85, 0, 0.5);
                            color: #ff8c00;
                            box-shadow: 0 4px 12px rgba(204, 85, 0, 0.3);
                        }

                        .tab.active {
                            background: linear-gradient(135deg, rgba(204, 85, 0, 0.3), rgba(139, 0, 0, 0.2));
                            border: 2px solid #cc5500;
                            color: #ff6b00;
                            font-weight: 600;
                            box-shadow: 0 4px 16px rgba(204, 85, 0, 0.4);
                        }

                        .content {
                            max-width: 1400px;
                            margin: 0 auto;
                            padding: 0 20px 40px;
                        }

                        .league-header {
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                            margin-bottom: 30px;
                            flex-wrap: wrap;
                            gap: 15px;
                        }

                        .league-header h2 {
                            margin: 0;
                            font-size: 2em;
                            background: linear-gradient(90deg, #cc5500, #ff6b00);
                            -webkit-background-clip: text;
                            -webkit-text-fill-color: transparent;
                            background-clip: text;
                        }

                        .sim-badge {
                            display: flex;
                            align-items: center;
                            gap: 8px;
                            padding: 8px 16px;
                            background: linear-gradient(135deg, rgba(176, 224, 230, 0.15), rgba(70, 130, 180, 0.1));
                            border: 1px solid rgba(176, 224, 230, 0.4);
                            border-radius: 20px;
                            color: #b0e0e6;
                            font-size: 0.9em;
                            box-shadow: 0 2px 8px rgba(176, 224, 230, 0.2);
                        }

                        .loading {
                            text-align: center;
                            padding: 80px 20px;
                        }

                        .spinner {
                            width: 50px;
                            height: 50px;
                            border: 4px solid rgba(204, 85, 0, 0.2);
                            border-top: 4px solid #cc5500;
                            border-right: 4px solid #dc143c;
                            border-radius: 50%;
                            margin: 0 auto 20px;
                            animation: spin 1s linear infinite;
                        }

                        @keyframes spin {
                            0% { transform: rotate(0deg); }
                            100% { transform: rotate(360deg); }
                        }

                        .loading p {
                            font-size: 1.2em;
                            background: linear-gradient(90deg, #cc5500, #ff6b00);
                            -webkit-background-clip: text;
                            -webkit-text-fill-color: transparent;
                            background-clip: text;
                        }

                        .rankings-table {
                            background: linear-gradient(135deg, rgba(42, 42, 42, 0.4), rgba(26, 26, 26, 0.6));
                            border: 1px solid rgba(204, 85, 0, 0.3);
                            border-radius: 10px;
                            overflow: hidden;
                            margin-bottom: 30px;
                            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
                        }

                        .table-header, .table-row {
                            display: grid;
                            grid-template-columns: 60px 2fr 1.5fr 1fr 1fr 1fr 1fr 1fr 1fr;
                            padding: 15px;
                            gap: 15px;
                            align-items: center;
                        }

                        .table-header {
                            background: linear-gradient(135deg, rgba(204, 85, 0, 0.2), rgba(139, 0, 0, 0.15));
                            border-bottom: 2px solid rgba(204, 85, 0, 0.5);
                            font-weight: 600;
                            color: #ff8c00;
                            font-size: 0.9em;
                        }

                        .table-row {
                            border-bottom: 1px solid rgba(102, 102, 102, 0.2);
                            cursor: pointer;
                            transition: all 0.2s ease;
                        }

                        .table-row:hover {
                            background: linear-gradient(90deg, rgba(204, 85, 0, 0.1), rgba(139, 0, 0, 0.05));
                            border-left: 2px solid rgba(204, 85, 0, 0.5);
                        }

                        .table-row.selected {
                            background: linear-gradient(90deg, rgba(204, 85, 0, 0.2), rgba(139, 0, 0, 0.15));
                            border-left: 4px solid #cc5500;
                            box-shadow: inset 0 0 20px rgba(204, 85, 0, 0.2);
                        }

                        .rank-badge {
                            display: inline-flex;
                            align-items: center;
                            justify-content: center;
                            width: 32px;
                            height: 32px;
                            background: linear-gradient(135deg, rgba(204, 85, 0, 0.3), rgba(139, 0, 0, 0.2));
                            border: 1px solid rgba(204, 85, 0, 0.4);
                            border-radius: 50%;
                            font-weight: 600;
                            color: #ff8c00;
                            box-shadow: 0 2px 8px rgba(204, 85, 0, 0.3);
                        }

                        .rank-badge.top {
                            background: linear-gradient(135deg, rgba(204, 85, 0, 0.5), rgba(220, 20, 60, 0.4));
                            border: 2px solid #cc5500;
                            color: #ff6b00;
                            font-weight: 700;
                            box-shadow: 0 4px 12px rgba(204, 85, 0, 0.5);
                        }

                        .prob-badge {
                            padding: 4px 10px;
                            background: rgba(58, 58, 58, 0.4);
                            border: 1px solid rgba(102, 102, 102, 0.3);
                            border-radius: 12px;
                            font-size: 0.85em;
                            font-weight: 600;
                            color: #999;
                        }

                        .prob-badge.low {
                            background: linear-gradient(135deg, rgba(139, 0, 0, 0.3), rgba(220, 20, 60, 0.2));
                            border-color: rgba(220, 20, 60, 0.4);
                            color: #dc143c;
                        }

                        .prob-badge.medium {
                            background: linear-gradient(135deg, rgba(70, 130, 180, 0.3), rgba(176, 224, 230, 0.2));
                            border-color: rgba(176, 224, 230, 0.4);
                            color: #b0e0e6;
                        }

                        .prob-badge.high {
                            background: linear-gradient(135deg, rgba(204, 85, 0, 0.3), rgba(255, 107, 0, 0.2));
                            border-color: rgba(204, 85, 0, 0.4);
                            color: #ff8c00;
                        }

                        .team-detail {
                            background: linear-gradient(135deg, rgba(42, 42, 42, 0.6), rgba(26, 26, 26, 0.8));
                            border: 2px solid rgba(204, 85, 0, 0.4);
                            border-radius: 10px;
                            padding: 25px;
                            margin-top: 30px;
                            box-shadow: 0 8px 24px rgba(204, 85, 0, 0.3);
                        }

                        .detail-header {
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                            margin-bottom: 25px;
                            padding-bottom: 15px;
                            border-bottom: 2px solid rgba(204, 85, 0, 0.3);
                        }

                        .detail-header h3 {
                            margin: 0;
                            background: linear-gradient(90deg, #cc5500, #ff6b00);
                            -webkit-background-clip: text;
                            -webkit-text-fill-color: transparent;
                            background-clip: text;
                            font-size: 1.5em;
                        }

                        .close-btn {
                            width: 40px;
                            height: 40px;
                            background: linear-gradient(135deg, rgba(139, 0, 0, 0.3), rgba(220, 20, 60, 0.2));
                            border: 1px solid rgba(220, 20, 60, 0.4);
                            border-radius: 50%;
                            color: #dc143c;
                            font-size: 1.5em;
                            cursor: pointer;
                            transition: all 0.2s ease;
                        }

                        .close-btn:hover {
                            background: linear-gradient(135deg, rgba(139, 0, 0, 0.5), rgba(220, 20, 60, 0.3));
                            border-color: #dc143c;
                            transform: scale(1.1);
                            box-shadow: 0 4px 12px rgba(220, 20, 60, 0.4);
                        }

                        .detail-grid {
                            display: grid;
                            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                            gap: 20px;
                            margin-bottom: 30px;
                        }

                        .detail-card {
                            background: linear-gradient(135deg, rgba(26, 26, 26, 0.8), rgba(42, 42, 42, 0.6));
                            border: 1px solid rgba(102, 102, 102, 0.3);
                            border-radius: 8px;
                            padding: 20px;
                            transition: all 0.3s ease;
                        }

                        .detail-card:hover {
                            border-color: rgba(204, 85, 0, 0.5);
                            box-shadow: 0 4px 16px rgba(204, 85, 0, 0.2);
                        }

                        .card-label {
                            font-size: 0.9em;
                            color: #b0e0e6;
                            margin-bottom: 10px;
                            font-weight: 500;
                        }

                        .card-value {
                            font-size: 2em;
                            font-weight: bold;
                            background: linear-gradient(90deg, #cc5500, #ff6b00);
                            -webkit-background-clip: text;
                            -webkit-text-fill-color: transparent;
                            background-clip: text;
                            margin-bottom: 5px;
                        }

                        .card-meta {
                            font-size: 0.85em;
                            color: #999;
                        }

                        .distribution-chart {
                            background: linear-gradient(135deg, rgba(26, 26, 26, 0.8), rgba(42, 42, 42, 0.6));
                            border: 1px solid rgba(204, 85, 0, 0.3);
                            border-radius: 8px;
                            padding: 20px;
                            margin-bottom: 20px;
                            max-height: 400px;
                            overflow-y: auto;
                        }

                        .distribution-chart h4 {
                            margin: 0 0 20px 0;
                            background: linear-gradient(90deg, #cc5500, #ff6b00);
                            -webkit-background-clip: text;
                            -webkit-text-fill-color: transparent;
                            background-clip: text;
                        }

                        .chart-bars {
                            display: flex;
                            flex-direction: column;
                            gap: 12px;
                        }

                        .chart-bar-item {
                            display: flex;
                            align-items: center;
                            gap: 12px;
                        }

                        .bar-label {
                            width: 50px;
                            font-weight: 600;
                            color: #aaa;
                            font-size: 0.9em;
                        }

                        .bar-wrapper {
                            flex: 1;
                            height: 30px;
                            background: rgba(0, 0, 0, 0.5);
                            border-radius: 5px;
                            overflow: hidden;
                        }

                        .bar-fill {
                            height: 100%;
                            background: linear-gradient(90deg, #cc5500, #ff6b00, #dc143c);
                            transition: width 0.5s ease;
                            box-shadow: 0 0 10px rgba(204, 85, 0, 0.4);
                        }

                        .bar-value {
                            width: 60px;
                            text-align: right;
                            font-weight: 600;
                            color: #b0e0e6;
                            font-size: 0.9em;
                        }

                        .methodology-box {
                            background: linear-gradient(135deg, rgba(26, 26, 26, 0.8), rgba(42, 42, 42, 0.6));
                            border: 1px solid rgba(176, 224, 230, 0.3);
                            border-radius: 8px;
                            padding: 20px;
                        }

                        .methodology-box h4 {
                            margin: 0 0 15px 0;
                            color: #b0e0e6;
                        }

                        .methodology-box p {
                            margin: 0;
                            line-height: 1.7;
                            color: #999;
                        }

                        .stats-summary {
                            max-width: 1400px;
                            margin: 40px auto 0;
                            padding: 0 20px;
                            display: grid;
                            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                            gap: 20px;
                        }

                        .summary-card {
                            background: linear-gradient(135deg, rgba(42, 42, 42, 0.6), rgba(26, 26, 26, 0.8));
                            border: 1px solid rgba(204, 85, 0, 0.3);
                            border-radius: 10px;
                            padding: 25px;
                            text-align: center;
                            transition: all 0.3s ease;
                        }

                        .summary-card:hover {
                            border-color: rgba(204, 85, 0, 0.6);
                            box-shadow: 0 6px 20px rgba(204, 85, 0, 0.3);
                            transform: translateY(-5px);
                        }

                        .summary-icon {
                            font-size: 2.5em;
                            margin-bottom: 15px;
                        }

                        .summary-label {
                            font-size: 0.9em;
                            color: #b0e0e6;
                            margin-bottom: 10px;
                        }

                        .summary-value {
                            font-size: 2em;
                            font-weight: bold;
                            background: linear-gradient(90deg, #cc5500, #ff6b00);
                            -webkit-background-clip: text;
                            -webkit-text-fill-color: transparent;
                            background-clip: text;
                        }

                        @media (max-width: 1200px) {
                            .table-header, .table-row {
                                grid-template-columns: 50px 2fr 1.5fr 1fr 1fr 1fr 1fr;
                            }

                            .col-range, .col-champ {
                                display: none;
                            }
                        }

                        @media (max-width: 768px) {
                            h1 {
                                font-size: 1.8em;
                            }

                            .table-header {
                                display: none;
                            }

                            .table-row {
                                grid-template-columns: 1fr;
                                gap: 8px;
                                padding: 15px;
                            }

                            .table-row > div {
                                display: flex;
                                justify-content: space-between;
                                align-items: center;
                            }

                            .table-row .col-rank {
                                justify-content: flex-start;
                            }

                            .detail-grid {
                                grid-template-columns: 1fr;
                            }
                        }
                    `}</style>
                </div>
            );
        };

        ReactDOM.render(<BlazeAnalytics />, document.getElementById('root'));
    </script>

    <!-- Blaze Chat Assistant -->
    <script src="/lib/chat-widget.js"></script>
</body>
</html>