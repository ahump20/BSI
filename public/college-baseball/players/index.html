<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>College Baseball Players | Blaze Sports Intel</title>
    <meta name="description" content="College baseball player database with statistics, MLB Draft prospect rankings, and scouting reports. Search SEC, Big 12, and top D1 programs.">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/images/bsi-logo-192.png">

    <!-- BSI Design System -->
    <link rel="stylesheet" href="/css/bsi-tokens.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Oswald:wght@400;500;600;700&display=swap">

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bsi-midnight);
            color: var(--bsi-cream);
            line-height: 1.6;
        }

        .font-display { font-family: 'Oswald', sans-serif; }

        /* Navigation */
        .nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
            background: rgba(13, 13, 13, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(191, 87, 0, 0.2);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--bsi-space-4) var(--bsi-space-6);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .nav-logo {
            display: flex;
            align-items: center;
            gap: var(--bsi-space-3);
            text-decoration: none;
            color: var(--bsi-cream);
        }

        .nav-logo img {
            height: 40px;
            width: auto;
        }

        .nav-links {
            display: flex;
            gap: var(--bsi-space-6);
            list-style: none;
        }

        .nav-links a {
            color: var(--bsi-cream);
            text-decoration: none;
            font-size: 0.875rem;
            font-weight: 500;
            transition: color 0.2s;
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: var(--bsi-burnt-orange);
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--bsi-burnt-orange) 0%, var(--bsi-texas-soil) 100%);
            padding: 120px 0 var(--bsi-space-12);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 var(--bsi-space-6);
        }

        .breadcrumb {
            display: flex;
            align-items: center;
            gap: var(--bsi-space-2);
            margin-bottom: var(--bsi-space-4);
            font-size: 0.875rem;
        }

        .breadcrumb a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
        }

        .breadcrumb a:hover {
            color: white;
        }

        .breadcrumb span {
            color: rgba(255, 255, 255, 0.5);
        }

        .hero-content h1 {
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: -0.02em;
            margin-bottom: var(--bsi-space-4);
        }

        .hero-content p {
            font-size: 1.125rem;
            max-width: 600px;
            opacity: 0.9;
        }

        .kicker {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: var(--bsi-space-2);
        }

        /* Stats Bar */
        .stats-bar {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--bsi-space-4);
            margin-top: var(--bsi-space-8);
        }

        @media (max-width: 768px) {
            .stats-bar {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .stat-card {
            background: rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: var(--bsi-radius-lg);
            padding: var(--bsi-space-4);
            text-align: center;
        }

        .stat-value {
            font-family: 'Oswald', sans-serif;
            font-size: 2rem;
            font-weight: 700;
            color: white;
        }

        .stat-label {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            opacity: 0.8;
            margin-top: var(--bsi-space-1);
        }

        /* Main Content */
        main {
            padding: var(--bsi-space-12) 0;
        }

        /* Search & Filters */
        .filters-card {
            background: var(--bsi-charcoal);
            border: 1px solid rgba(191, 87, 0, 0.2);
            border-radius: var(--bsi-radius-lg);
            padding: var(--bsi-space-6);
            margin-bottom: var(--bsi-space-8);
        }

        .filters-row {
            display: flex;
            flex-wrap: wrap;
            gap: var(--bsi-space-4);
        }

        .search-box {
            flex: 1;
            min-width: 280px;
            display: flex;
            gap: var(--bsi-space-2);
        }

        .search-input {
            flex: 1;
            padding: var(--bsi-space-3) var(--bsi-space-4);
            background: var(--bsi-midnight);
            border: 1px solid rgba(191, 87, 0, 0.3);
            border-radius: var(--bsi-radius-md);
            color: var(--bsi-cream);
            font-size: 0.875rem;
        }

        .search-input::placeholder {
            color: rgba(250, 248, 245, 0.4);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--bsi-burnt-orange);
        }

        .btn {
            padding: var(--bsi-space-3) var(--bsi-space-6);
            background: var(--bsi-burnt-orange);
            border: none;
            border-radius: var(--bsi-radius-md);
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
        }

        .btn:hover {
            background: var(--bsi-ember);
        }

        .filter-select {
            padding: var(--bsi-space-3) var(--bsi-space-4);
            background: var(--bsi-midnight);
            border: 1px solid rgba(191, 87, 0, 0.3);
            border-radius: var(--bsi-radius-md);
            color: var(--bsi-cream);
            font-size: 0.875rem;
            cursor: pointer;
        }

        .filter-select:focus {
            outline: none;
            border-color: var(--bsi-burnt-orange);
        }

        .filter-checkbox {
            display: flex;
            align-items: center;
            gap: var(--bsi-space-2);
            padding: var(--bsi-space-3) var(--bsi-space-4);
            background: var(--bsi-midnight);
            border: 1px solid rgba(191, 87, 0, 0.3);
            border-radius: var(--bsi-radius-md);
            cursor: pointer;
            font-size: 0.875rem;
        }

        .filter-checkbox input {
            accent-color: var(--bsi-burnt-orange);
        }

        /* Sort Bar */
        .sort-bar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: var(--bsi-charcoal);
            border: 1px solid rgba(191, 87, 0, 0.2);
            border-radius: var(--bsi-radius-md);
            padding: var(--bsi-space-3) var(--bsi-space-4);
            margin-bottom: var(--bsi-space-6);
        }

        .sort-bar label {
            font-size: 0.875rem;
            color: rgba(250, 248, 245, 0.6);
        }

        /* Players Grid */
        .players-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
            gap: var(--bsi-space-6);
        }

        @media (max-width: 480px) {
            .players-grid {
                grid-template-columns: 1fr;
            }
        }

        .player-card {
            background: var(--bsi-charcoal);
            border: 1px solid rgba(191, 87, 0, 0.2);
            border-radius: var(--bsi-radius-lg);
            overflow: hidden;
            transition: border-color 0.2s, transform 0.2s;
            cursor: pointer;
            text-decoration: none;
            color: inherit;
            display: block;
        }

        .player-card:hover {
            border-color: var(--bsi-burnt-orange);
            transform: translateY(-2px);
        }

        a.player-card {
            color: inherit;
        }

        .player-header {
            padding: var(--bsi-space-4);
            background: linear-gradient(90deg, rgba(191, 87, 0, 0.2) 0%, transparent 100%);
            border-bottom: 1px solid rgba(191, 87, 0, 0.2);
        }

        .player-name {
            font-family: 'Oswald', sans-serif;
            font-size: 1.25rem;
            font-weight: 700;
            color: white;
            margin-bottom: var(--bsi-space-1);
        }

        .player-team {
            font-size: 0.875rem;
            color: rgba(250, 248, 245, 0.7);
        }

        .player-meta {
            display: flex;
            flex-wrap: wrap;
            gap: var(--bsi-space-3);
            margin-top: var(--bsi-space-2);
            font-size: 0.75rem;
            color: rgba(250, 248, 245, 0.5);
        }

        .player-bio {
            padding: var(--bsi-space-4);
            background: rgba(0, 0, 0, 0.2);
            border-bottom: 1px solid rgba(191, 87, 0, 0.1);
        }

        .bio-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: var(--bsi-space-2);
            text-align: center;
        }

        @media (max-width: 480px) {
            .bio-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .bio-grid .hometown {
                grid-column: span 2;
            }
        }

        .bio-label {
            font-size: 0.625rem;
            text-transform: uppercase;
            color: rgba(250, 248, 245, 0.5);
            letter-spacing: 0.05em;
        }

        .bio-value {
            font-size: 0.875rem;
            font-weight: 500;
            color: white;
        }

        .player-stats {
            padding: var(--bsi-space-4);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--bsi-space-2);
            text-align: center;
        }

        .stat-item-value {
            font-family: 'Oswald', sans-serif;
            font-size: 1.125rem;
            font-weight: 700;
            color: var(--bsi-burnt-orange);
        }

        .stat-item-label {
            font-size: 0.625rem;
            text-transform: uppercase;
            color: rgba(250, 248, 245, 0.5);
        }

        /* Draft Prospect Badge */
        .draft-section {
            padding: var(--bsi-space-4);
            background: linear-gradient(90deg, rgba(25, 118, 210, 0.1) 0%, transparent 100%);
            border-top: 1px solid rgba(25, 118, 210, 0.3);
        }

        .draft-badge {
            display: inline-block;
            padding: var(--bsi-space-1) var(--bsi-space-3);
            background: var(--bsi-info);
            color: white;
            font-size: 0.75rem;
            font-weight: 600;
            border-radius: var(--bsi-radius-full);
            margin-bottom: var(--bsi-space-2);
        }

        .draft-projection {
            font-size: 0.875rem;
            color: rgba(250, 248, 245, 0.8);
            margin-bottom: var(--bsi-space-3);
        }

        .tools-grid {
            display: flex;
            justify-content: center;
            gap: var(--bsi-space-3);
        }

        .tool-grade {
            text-align: center;
        }

        .tool-value {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.75rem;
            font-weight: 700;
        }

        .tool-value.elite { background: linear-gradient(135deg, #2E7D32, #1B5E20); }
        .tool-value.plus { background: linear-gradient(135deg, #1976D2, #1565C0); }
        .tool-value.avg { background: linear-gradient(135deg, #F9A825, #F57F17); }
        .tool-value.below { background: linear-gradient(135deg, #616161, #424242); }

        .tool-label {
            font-size: 0.625rem;
            text-transform: uppercase;
            color: rgba(250, 248, 245, 0.5);
            margin-top: var(--bsi-space-1);
        }

        /* Loading & Empty States */
        .loading-state,
        .empty-state {
            text-align: center;
            padding: var(--bsi-space-16) var(--bsi-space-8);
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(191, 87, 0, 0.3);
            border-top-color: var(--bsi-burnt-orange);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto var(--bsi-space-4);
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .empty-icon {
            font-size: 3rem;
            color: rgba(250, 248, 245, 0.3);
            margin-bottom: var(--bsi-space-4);
        }

        .empty-state h3 {
            font-size: 1.25rem;
            margin-bottom: var(--bsi-space-2);
        }

        .empty-state p {
            color: rgba(250, 248, 245, 0.6);
        }

        /* Season Banner */
        .season-banner {
            background: linear-gradient(90deg, rgba(25, 118, 210, 0.2) 0%, rgba(25, 118, 210, 0.1) 100%);
            border: 1px solid rgba(25, 118, 210, 0.3);
            border-radius: var(--bsi-radius-md);
            padding: var(--bsi-space-4);
            margin-bottom: var(--bsi-space-8);
            display: flex;
            align-items: center;
            gap: var(--bsi-space-4);
        }

        .season-banner-icon {
            font-size: 1.5rem;
        }

        .season-banner-text h4 {
            font-weight: 600;
            margin-bottom: var(--bsi-space-1);
        }

        .season-banner-text p {
            font-size: 0.875rem;
            color: rgba(250, 248, 245, 0.7);
        }

        /* Footer */
        footer {
            background: var(--bsi-charcoal);
            border-top: 1px solid rgba(191, 87, 0, 0.2);
            padding: var(--bsi-space-8) 0;
            text-align: center;
        }

        .footer-text {
            font-size: 0.75rem;
            color: rgba(250, 248, 245, 0.5);
        }

        .footer-text a {
            color: var(--bsi-burnt-orange);
            text-decoration: none;
        }

        /* Data Attribution */
        .data-attribution {
            margin-top: var(--bsi-space-12);
            text-align: center;
            font-size: 0.75rem;
            color: rgba(250, 248, 245, 0.4);
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-container">
            <a href="/" class="nav-logo">
                <img src="/images/bsi-logo-nav.png" alt="Blaze Sports Intel" onerror="this.style.display='none'">
                <span class="font-display" style="font-size: 1.25rem; font-weight: 700;">BLAZE SPORTS INTEL</span>
            </a>
            <ul class="nav-links">
                <li><a href="/">Home</a></li>
                <li><a href="/college-baseball/">College Baseball</a></li>
                <li><a href="/college-baseball/games/">Games</a></li>
                <li><a href="/college-baseball/standings/">Standings</a></li>
                <li><a href="/college-baseball/players/" class="active">Players</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="breadcrumb">
                <a href="/">Home</a>
                <span>/</span>
                <a href="/college-baseball/">College Baseball</a>
                <span>/</span>
                <span style="color: white;">Players</span>
            </div>

            <div class="hero-content">
                <span class="kicker">Player Database & Draft Prospects</span>
                <h1 class="font-display">College Baseball <span style="color: var(--bsi-gold);">Players</span></h1>
                <p>Individual player statistics, MLB Draft prospect tracking, and scouting reports. Practice to Play. Blaze Data Wins the Day.</p>
            </div>

            <div class="stats-bar">
                <div class="stat-card">
                    <div class="stat-value" id="total-players">--</div>
                    <div class="stat-label">Total Players</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="draft-prospects">--</div>
                    <div class="stat-label">Draft Prospects</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="pitchers-count">--</div>
                    <div class="stat-label">Pitchers</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="position-count">--</div>
                    <div class="stat-label">Position Players</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main>
        <div class="container">
            <!-- Season Banner -->
            <div class="season-banner">
                <div class="season-banner-icon">&#9201;</div>
                <div class="season-banner-text">
                    <h4>2026 Season Opens February 14</h4>
                    <p>Player stats and draft rankings will update live once the season begins. Currently showing 2025 final statistics.</p>
                </div>
            </div>

            <!-- Search & Filters -->
            <div class="filters-card">
                <div class="filters-row">
                    <div class="search-box">
                        <input type="text" id="search-input" class="search-input" placeholder="Search by player name, team, or hometown...">
                        <button class="btn" onclick="applyFilters()">Search</button>
                    </div>

                    <select id="conference-filter" class="filter-select" onchange="applyFilters()">
                        <option value="">All Conferences</option>
                        <optgroup label="Power 5">
                            <option value="SEC">SEC</option>
                            <option value="ACC">ACC</option>
                            <option value="BIG12">Big 12</option>
                            <option value="BIG10">Big Ten</option>
                            <option value="PAC12">Pac-12</option>
                        </optgroup>
                        <optgroup label="Group of 5">
                            <option value="AMERICAN">American</option>
                            <option value="SUNBELT">Sun Belt</option>
                            <option value="CUSA">C-USA</option>
                        </optgroup>
                        <optgroup label="Mid-Major">
                            <option value="MVC">MVC</option>
                            <option value="SOUTHLAND">Southland</option>
                            <option value="WAC">WAC</option>
                            <option value="BIGWEST">Big West</option>
                        </optgroup>
                    </select>

                    <select id="position-filter" class="filter-select" onchange="applyFilters()">
                        <option value="">All Positions</option>
                        <option value="P">Pitcher (P)</option>
                        <option value="C">Catcher (C)</option>
                        <option value="IF">Infield (IF)</option>
                        <option value="OF">Outfield (OF)</option>
                    </select>

                    <select id="class-filter" class="filter-select" onchange="applyFilters()">
                        <option value="">All Classes</option>
                        <option value="Fr">Freshman</option>
                        <option value="So">Sophomore</option>
                        <option value="Jr">Junior</option>
                        <option value="Sr">Senior</option>
                    </select>

                    <label class="filter-checkbox">
                        <input type="checkbox" id="draft-only" onchange="applyFilters()">
                        <span>Draft Prospects Only</span>
                    </label>
                </div>
            </div>

            <!-- Sort Bar -->
            <div class="sort-bar">
                <label>Sort by:</label>
                <select id="sort-select" class="filter-select" onchange="sortPlayers()">
                    <option value="mlbRank">MLB Draft Rank</option>
                    <option value="avg">Batting Average</option>
                    <option value="homeRuns">Home Runs</option>
                    <option value="rbi">RBI</option>
                    <option value="ops">OPS</option>
                    <option value="era">ERA</option>
                    <option value="strikeouts">Strikeouts</option>
                    <option value="whip">WHIP</option>
                </select>
            </div>

            <!-- Players Grid -->
            <div id="players-container">
                <div class="loading-state">
                    <div class="spinner"></div>
                    <p>Loading players...</p>
                </div>
            </div>

            <!-- Data Attribution -->
            <div class="data-attribution">
                <p>Player data sourced from official NCAA statistics and MLB Draft projections.</p>
                <p id="last-updated">Last updated: --</p>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p class="footer-text">
                &copy; 2025 <a href="/">Blaze Sports Intel</a>. All rights reserved.<br>
                Practice to Play. Blaze Data Wins the Day.
            </p>
        </div>
    </footer>

    <!-- BSI Components -->
    <script src="/js/bsi-components.js"></script>
    <script src="/js/player-data.js"></script>

    <script>
        // Sample player data - will be replaced with API data when season starts
        const samplePlayers = [
            {
                id: 'TX-2025-001',
                name: 'J. Mitchell',
                team: 'Texas',
                jersey: '4',
                position: 'SS',
                classYear: 'Jr',
                conference: 'SEC',
                bio: { height: '6-2', weight: 195, bats: 'R', throws: 'R', hometown: 'Houston, TX' },
                battingStats: { avg: 0.342, homeRuns: 18, rbi: 67, ops: 1.042, games: 62, hits: 89, doubles: 22, walks: 41, strikeouts: 38, stolenBases: 12 },
                draftProspect: { isDraftEligible: true, mlbRank: 15, projection: 'First Round (Top 20)', tools: { hit: 70, power: 65, run: 60, arm: 70, field: 65 } }
            },
            {
                id: 'TX-2025-002',
                name: 'C. Rodriguez',
                team: 'Texas',
                jersey: '22',
                position: 'P',
                classYear: 'Jr',
                conference: 'SEC',
                bio: { height: '6-4', weight: 215, bats: 'R', throws: 'R', hometown: 'San Antonio, TX' },
                pitchingStats: { era: 2.45, wins: 11, losses: 2, strikeouts: 142, whip: 0.98, games: 16, gamesStarted: 16, inningsPitched: 114.2, walks: 28 },
                draftProspect: { isDraftEligible: true, mlbRank: 8, projection: 'First Round (Top 10)', tools: { fastball: 80, slider: 70, changeup: 60, control: 65 } }
            },
            {
                id: 'LSU-2025-001',
                name: 'D. Williams',
                team: 'LSU',
                jersey: '7',
                position: 'OF',
                classYear: 'So',
                conference: 'SEC',
                bio: { height: '6-1', weight: 190, bats: 'L', throws: 'L', hometown: 'Baton Rouge, LA' },
                battingStats: { avg: 0.318, homeRuns: 14, rbi: 52, ops: 0.965, games: 60, hits: 76, doubles: 18, walks: 35, strikeouts: 45, stolenBases: 22 },
                draftProspect: { isDraftEligible: false }
            },
            {
                id: 'TAMU-2025-001',
                name: 'M. Johnson',
                team: 'Texas A&M',
                jersey: '12',
                position: 'C',
                classYear: 'Sr',
                conference: 'SEC',
                bio: { height: '6-0', weight: 210, bats: 'R', throws: 'R', hometown: 'College Station, TX' },
                battingStats: { avg: 0.295, homeRuns: 16, rbi: 58, ops: 0.912, games: 58, hits: 71, doubles: 15, walks: 32, strikeouts: 52, stolenBases: 3 },
                draftProspect: { isDraftEligible: true, mlbRank: 45, projection: 'Second Round', tools: { hit: 55, power: 60, run: 40, arm: 70, field: 65 } }
            },
            {
                id: 'VU-2025-001',
                name: 'A. Thompson',
                team: 'Vanderbilt',
                jersey: '14',
                position: 'P',
                classYear: 'Jr',
                conference: 'SEC',
                bio: { height: '6-3', weight: 200, bats: 'L', throws: 'L', hometown: 'Nashville, TN' },
                pitchingStats: { era: 2.78, wins: 9, losses: 3, strikeouts: 128, whip: 1.05, games: 15, gamesStarted: 15, inningsPitched: 103.2, walks: 31 },
                draftProspect: { isDraftEligible: true, mlbRank: 22, projection: 'First Round', tools: { fastball: 70, curveball: 75, changeup: 55, control: 60 } }
            },
            {
                id: 'ARK-2025-001',
                name: 'B. Davis',
                team: 'Arkansas',
                jersey: '3',
                position: '2B',
                classYear: 'Jr',
                conference: 'SEC',
                bio: { height: '5-11', weight: 180, bats: 'S', throws: 'R', hometown: 'Little Rock, AR' },
                battingStats: { avg: 0.328, homeRuns: 8, rbi: 45, ops: 0.895, games: 61, hits: 82, doubles: 20, walks: 38, strikeouts: 35, stolenBases: 18 },
                draftProspect: { isDraftEligible: true, mlbRank: 68, projection: 'Third Round', tools: { hit: 65, power: 45, run: 65, arm: 55, field: 70 } }
            },
            {
                id: 'TN-2025-001',
                name: 'K. Anderson',
                team: 'Tennessee',
                jersey: '8',
                position: 'OF',
                classYear: 'Sr',
                conference: 'SEC',
                bio: { height: '6-3', weight: 205, bats: 'R', throws: 'R', hometown: 'Knoxville, TN' },
                battingStats: { avg: 0.312, homeRuns: 22, rbi: 71, ops: 1.015, games: 63, hits: 85, doubles: 16, walks: 42, strikeouts: 58, stolenBases: 8 },
                draftProspect: { isDraftEligible: true, mlbRank: 28, projection: 'First Round (Late)', tools: { hit: 55, power: 70, run: 50, arm: 60, field: 55 } }
            },
            {
                id: 'FL-2025-001',
                name: 'R. Martinez',
                team: 'Florida',
                jersey: '19',
                position: 'P',
                classYear: 'So',
                conference: 'SEC',
                bio: { height: '6-5', weight: 220, bats: 'R', throws: 'R', hometown: 'Miami, FL' },
                pitchingStats: { era: 3.12, wins: 8, losses: 4, strikeouts: 115, whip: 1.12, games: 17, gamesStarted: 14, inningsPitched: 98.1, walks: 35 },
                draftProspect: { isDraftEligible: false }
            },
            {
                id: 'OM-2025-001',
                name: 'T. Wilson',
                team: 'Ole Miss',
                jersey: '24',
                position: '1B',
                classYear: 'Jr',
                conference: 'SEC',
                bio: { height: '6-4', weight: 230, bats: 'L', throws: 'L', hometown: 'Oxford, MS' },
                battingStats: { avg: 0.305, homeRuns: 24, rbi: 78, ops: 1.055, games: 62, hits: 79, doubles: 14, walks: 45, strikeouts: 62, stolenBases: 2 },
                draftProspect: { isDraftEligible: true, mlbRank: 35, projection: 'Second Round (Early)', tools: { hit: 50, power: 75, run: 35, arm: 50, field: 55 } }
            },
            {
                id: 'OU-2025-001',
                name: 'J. Brown',
                team: 'Oklahoma',
                jersey: '11',
                position: 'SS',
                classYear: 'Jr',
                conference: 'SEC',
                bio: { height: '6-0', weight: 185, bats: 'R', throws: 'R', hometown: 'Norman, OK' },
                battingStats: { avg: 0.335, homeRuns: 12, rbi: 55, ops: 0.945, games: 60, hits: 84, doubles: 21, walks: 36, strikeouts: 40, stolenBases: 15 },
                draftProspect: { isDraftEligible: true, mlbRank: 52, projection: 'Second Round', tools: { hit: 60, power: 55, run: 60, arm: 65, field: 65 } }
            },
            {
                id: 'TCU-2025-001',
                name: 'S. Garcia',
                team: 'TCU',
                jersey: '17',
                position: 'P',
                classYear: 'Sr',
                conference: 'Big 12',
                bio: { height: '6-2', weight: 195, bats: 'R', throws: 'R', hometown: 'Fort Worth, TX' },
                pitchingStats: { era: 2.95, wins: 10, losses: 3, strikeouts: 118, whip: 1.08, games: 16, gamesStarted: 15, inningsPitched: 106.1, walks: 32 },
                draftProspect: { isDraftEligible: true, mlbRank: 78, projection: 'Third Round', tools: { fastball: 65, slider: 60, changeup: 55, control: 65 } }
            },
            {
                id: 'TX-2025-003',
                name: 'E. Clark',
                team: 'Texas',
                jersey: '9',
                position: '3B',
                classYear: 'Fr',
                conference: 'SEC',
                bio: { height: '6-1', weight: 200, bats: 'R', throws: 'R', hometown: 'Dallas, TX' },
                battingStats: { avg: 0.278, homeRuns: 10, rbi: 42, ops: 0.845, games: 55, hits: 62, doubles: 12, walks: 28, strikeouts: 48, stolenBases: 5 },
                draftProspect: { isDraftEligible: false }
            }
        ];

        let players = [...samplePlayers];
        let filteredPlayers = [...players];

        // Initialize
        document.addEventListener('DOMContentLoaded', async function() {
            // Try to load from live API first
            await loadPlayersFromAPI();

            renderPlayers();
            updateStats();
            updateLastUpdated();

            // Enter key search
            document.getElementById('search-input').addEventListener('keydown', function(e) {
                if (e.key === 'Enter') applyFilters();
            });
        });

        function applyFilters() {
            const search = document.getElementById('search-input').value.toLowerCase();
            const conference = document.getElementById('conference-filter').value;
            const position = document.getElementById('position-filter').value;
            const classYear = document.getElementById('class-filter').value;
            const draftOnly = document.getElementById('draft-only').checked;

            filteredPlayers = players.filter(player => {
                // Search filter
                if (search && !player.name.toLowerCase().includes(search) &&
                    !(player.team || '').toLowerCase().includes(search) &&
                    !(player.team_slug || '').toLowerCase().includes(search) &&
                    !(player.bio?.hometown || '').toLowerCase().includes(search)) {
                    return false;
                }

                // Conference filter
                if (conference && player.conference !== conference) return false;

                // Position filter
                if (position) {
                    if (position === 'IF' && !['SS', '2B', '3B', '1B'].includes(player.position)) return false;
                    if (position === 'OF' && player.position !== 'OF') return false;
                    if (position === 'C' && player.position !== 'C') return false;
                    if (position === 'P' && player.position !== 'P') return false;
                }

                // Class filter
                if (classYear && player.classYear !== classYear) return false;

                // Draft only
                if (draftOnly && !player.draftProspect?.isDraftEligible) return false;

                return true;
            });

            sortPlayers();
        }

        function sortPlayers() {
            const sortBy = document.getElementById('sort-select').value;

            filteredPlayers.sort((a, b) => {
                switch (sortBy) {
                    case 'mlbRank':
                        return (a.draftProspect?.mlbRank || 999) - (b.draftProspect?.mlbRank || 999);
                    case 'avg':
                        return (b.battingStats?.avg || 0) - (a.battingStats?.avg || 0);
                    case 'homeRuns':
                        return (b.battingStats?.homeRuns || 0) - (a.battingStats?.homeRuns || 0);
                    case 'rbi':
                        return (b.battingStats?.rbi || 0) - (a.battingStats?.rbi || 0);
                    case 'ops':
                        return (b.battingStats?.ops || 0) - (a.battingStats?.ops || 0);
                    case 'era':
                        return (a.pitchingStats?.era || 99) - (b.pitchingStats?.era || 99);
                    case 'strikeouts':
                        return (b.pitchingStats?.strikeouts || 0) - (a.pitchingStats?.strikeouts || 0);
                    case 'whip':
                        return (a.pitchingStats?.whip || 99) - (b.pitchingStats?.whip || 99);
                    default:
                        return 0;
                }
            });

            renderPlayers();
            updateStats();
        }

        function renderPlayers() {
            const container = document.getElementById('players-container');

            if (filteredPlayers.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">?</div>
                        <h3>No Players Found</h3>
                        <p>Try adjusting your search or filter criteria.</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = `
                <div class="players-grid">
                    ${filteredPlayers.map(player => renderPlayerCard(player)).join('')}
                </div>
            `;
        }

        function renderPlayerCard(player) {
            const isPitcher = player.position === 'P';

            let statsHtml = '';
            if (isPitcher && player.pitchingStats) {
                statsHtml = `
                    <div class="stats-grid">
                        <div>
                            <div class="stat-item-value">${player.pitchingStats.era.toFixed(2)}</div>
                            <div class="stat-item-label">ERA</div>
                        </div>
                        <div>
                            <div class="stat-item-value">${player.pitchingStats.wins}-${player.pitchingStats.losses}</div>
                            <div class="stat-item-label">W-L</div>
                        </div>
                        <div>
                            <div class="stat-item-value">${player.pitchingStats.strikeouts}</div>
                            <div class="stat-item-label">SO</div>
                        </div>
                        <div>
                            <div class="stat-item-value">${player.pitchingStats.whip.toFixed(2)}</div>
                            <div class="stat-item-label">WHIP</div>
                        </div>
                    </div>
                `;
            } else if (player.battingStats) {
                statsHtml = `
                    <div class="stats-grid">
                        <div>
                            <div class="stat-item-value">${player.battingStats.avg.toFixed(3)}</div>
                            <div class="stat-item-label">AVG</div>
                        </div>
                        <div>
                            <div class="stat-item-value">${player.battingStats.homeRuns}</div>
                            <div class="stat-item-label">HR</div>
                        </div>
                        <div>
                            <div class="stat-item-value">${player.battingStats.rbi}</div>
                            <div class="stat-item-label">RBI</div>
                        </div>
                        <div>
                            <div class="stat-item-value">${player.battingStats.ops.toFixed(3)}</div>
                            <div class="stat-item-label">OPS</div>
                        </div>
                    </div>
                `;
            }

            let draftHtml = '';
            if (player.draftProspect?.isDraftEligible) {
                const tools = player.draftProspect.tools || {};
                const toolsHtml = Object.entries(tools).map(([tool, grade]) => {
                    let gradeClass = 'below';
                    if (grade >= 80) gradeClass = 'elite';
                    else if (grade >= 70) gradeClass = 'plus';
                    else if (grade >= 60) gradeClass = 'avg';

                    return `
                        <div class="tool-grade">
                            <div class="tool-value ${gradeClass}">${grade}</div>
                            <div class="tool-label">${tool}</div>
                        </div>
                    `;
                }).join('');

                draftHtml = `
                    <div class="draft-section">
                        <span class="draft-badge">MLB Draft Rank: #${player.draftProspect.mlbRank}</span>
                        ${player.draftProspect.projection ? `<p class="draft-projection"><strong>Projection:</strong> ${player.draftProspect.projection}</p>` : ''}
                        <div class="tools-grid">${toolsHtml}</div>
                    </div>
                `;
            }

            const playerId = player.espn_id || player.id;
            const profileLink = playerId ? `/college-baseball/players/profile.html?id=${playerId}` : '#';

            return `
                <a href="${profileLink}" class="player-card">
                    <div class="player-header">
                        <div class="player-name">${player.name}</div>
                        <div class="player-team">${player.team || player.team_slug || ''}</div>
                        <div class="player-meta">
                            ${player.jersey ? `<span>#${player.jersey}</span>` : ''}
                            <span>${player.position}</span>
                            <span>${player.classYear || player.year || ''}</span>
                            <span>${player.conference}</span>
                        </div>
                    </div>

                    <div class="player-bio">
                        <div class="bio-grid">
                            <div>
                                <div class="bio-label">Height</div>
                                <div class="bio-value">${player.bio.height}</div>
                            </div>
                            <div>
                                <div class="bio-label">Weight</div>
                                <div class="bio-value">${player.bio.weight} lbs</div>
                            </div>
                            <div>
                                <div class="bio-label">Bats</div>
                                <div class="bio-value">${player.bio.bats}</div>
                            </div>
                            <div>
                                <div class="bio-label">Throws</div>
                                <div class="bio-value">${player.bio.throws}</div>
                            </div>
                            <div class="hometown">
                                <div class="bio-label">Hometown</div>
                                <div class="bio-value">${player.bio.hometown}</div>
                            </div>
                        </div>
                    </div>

                    <div class="player-stats">
                        ${statsHtml || '<p style="text-align: center; color: rgba(250, 248, 245, 0.5); font-size: 0.875rem;">No stats available</p>'}
                    </div>

                    ${draftHtml}
                </a>
            `;
        }

        function updateStats() {
            document.getElementById('total-players').textContent = filteredPlayers.length;
            document.getElementById('draft-prospects').textContent = filteredPlayers.filter(p => p.draftProspect?.isDraftEligible).length;
            document.getElementById('pitchers-count').textContent = filteredPlayers.filter(p => p.position === 'P').length;
            document.getElementById('position-count').textContent = filteredPlayers.filter(p => p.position !== 'P').length;
        }

        function updateLastUpdated() {
            const now = new Date().toLocaleString('en-US', {
                timeZone: 'America/Chicago',
                year: 'numeric',
                month: 'short',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            document.getElementById('last-updated').textContent = `Last updated: ${now} CT`;
        }

        // Load from BSI API
        async function loadPlayersFromAPI() {
            try {
                const response = await fetch('/api/college-baseball/players?limit=500');
                if (response.ok) {
                    const data = await response.json();
                    // API returns array directly or nested in players
                    const apiPlayers = Array.isArray(data) ? data : (data.players || []);

                    if (apiPlayers.length > 0) {
                        // Map API format to display format
                        players = apiPlayers.map(p => ({
                            id: p.id,
                            espn_id: p.espn_id || p.id,
                            name: p.name || p.displayName || `${p.first_name} ${p.last_name}`,
                            team: p.team,
                            team_slug: p.team_slug,
                            jersey: p.jersey,
                            position: p.position,
                            classYear: p.year,
                            conference: p.conference,
                            bio: {
                                height: p.height ? `${Math.floor(p.height/12)}-${p.height%12}` : '-',
                                weight: p.weight || '-',
                                bats: p.bats || '-',
                                throws: p.throws || '-',
                                hometown: '-'
                            },
                            battingStats: p.stats?.batting || null,
                            pitchingStats: p.stats?.pitching || null,
                            headshot_url: p.headshot_url,
                            draftProspect: { isDraftEligible: false }
                        }));
                        filteredPlayers = [...players];
                        console.log(`[BSI] Loaded ${players.length} players from API`);
                    }
                }
            } catch (err) {
                console.log('[BSI] Using sample data - API not available:', err.message);
            }
        }
    </script>
</body>
</html>
