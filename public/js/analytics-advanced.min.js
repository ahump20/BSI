export const StatcastVisualization=({player:N,team:y})=>{const[s,l]=React.useState(null),[S,b]=React.useState(!0),c=React.useRef(null),h=(m,a)=>{if(!m||!a)return null;const n=Math.min(m/120,1),e=Math.exp(-Math.pow(a-27.5,2)/200);return Math.min(n*e*.95,1)},x=(m,a)=>m>=98&&a>=26&&a<=30,A=m=>!m||!m.entryAngle||!m.exitAngle?null:((m.exitAngle-m.entryAngle)/2).toFixed(1);return React.useEffect(()=>{(async()=>{b(!0);try{const a={player:N||"Sample Player",team:y||"STL",season:2025,battedBalls:Array.from({length:100},(n,e)=>{const t=70+Math.random()*50,i=-20+Math.random()*80,r=h(t,i);return{exitVelocity:t,launchAngle:i,xBA:r,isBarrel:x(t,i),horizontalBreak:-200+Math.random()*400,distance:Math.random()*450}}),aggregateStats:{avgExitVelo:89.2,avgLaunchAngle:12.5,barrelRate:8.7,xBA:.268,actualBA:.255},attackAngle:{current:15.3,entryAngle:8.2,exitAngle:22.4,consistency:85}};l(a)}catch(a){console.error("Failed to fetch Statcast data:",a)}finally{b(!1)}})()},[N,y]),React.useEffect(()=>{if(!s||!c.current)return;const m=c.current,a=m.getContext("2d"),n=m.width,e=m.height;a.clearRect(0,0,n,e),a.fillStyle="#1a472a",a.fillRect(0,0,n,e),a.strokeStyle="#8b7355",a.lineWidth=2,a.beginPath(),a.moveTo(n/2,e),a.lineTo(n*.2,e*.6),a.lineTo(n/2,e*.2),a.lineTo(n*.8,e*.6),a.closePath(),a.stroke(),s.battedBalls.forEach(o=>{const p=n/2+o.horizontalBreak/400*(n*.4),d=e-o.distance/450*(e*.8);let v;o.xBA>.5?v="#22c55e":o.xBA>.25?v="#eab308":v="#ef4444",a.fillStyle=v,a.globalAlpha=.6,a.beginPath(),a.arc(p,d,o.isBarrel?6:4,0,Math.PI*2),a.fill(),a.globalAlpha=1,o.isBarrel&&(a.strokeStyle="#fbbf24",a.lineWidth=2,a.beginPath(),a.arc(p,d,8,0,Math.PI*2),a.stroke())});const t=10,i=10,r=25;a.font="12px Inter",a.fillStyle="#ffffff",a.fillText("xBA Legend:",t,i),a.fillStyle="#22c55e",a.fillRect(t,i+5,15,15),a.fillStyle="#ffffff",a.fillText(">.500",t+20,i+17),a.fillStyle="#eab308",a.fillRect(t,i+5+r,15,15),a.fillStyle="#ffffff",a.fillText(".250-.500",t+20,i+17+r),a.fillStyle="#ef4444",a.fillRect(t,i+5+r*2,15,15),a.fillStyle="#ffffff",a.fillText("<.250",t+20,i+17+r*2),a.strokeStyle="#fbbf24",a.lineWidth=2,a.beginPath(),a.arc(t+7,i+12+r*3,7,0,Math.PI*2),a.stroke(),a.fillStyle="#ffffff",a.fillText("Barrel",t+20,i+17+r*3)},[s]),S?React.createElement("div",{className:"statcast-loading"},React.createElement("div",{className:"spinner"}),React.createElement("p",null,"Loading Statcast data...")):s?React.createElement("div",{className:"statcast-visualization"},React.createElement("div",{className:"statcast-header"},React.createElement("h3",null,"MLB Statcast Analytics"),React.createElement("div",{className:"player-info"},React.createElement("span",{className:"player-name"},s.player),React.createElement("span",{className:"team-badge"},s.team),React.createElement("span",{className:"season-year"},s.season))),React.createElement("div",{className:"statcast-content"},React.createElement("div",{className:"stats-grid"},React.createElement("div",{className:"stat-card"},React.createElement("div",{className:"stat-label"},"Expected BA (xBA)"),React.createElement("div",{className:"stat-value"},s.aggregateStats.xBA.toFixed(3)),React.createElement("div",{className:"stat-delta"},"vs Actual: ",(s.aggregateStats.xBA-s.aggregateStats.actualBA).toFixed(3))),React.createElement("div",{className:"stat-card"},React.createElement("div",{className:"stat-label"},"Barrel Rate"),React.createElement("div",{className:"stat-value"},s.aggregateStats.barrelRate,"%"),React.createElement("div",{className:"stat-context"},"MLB Avg: 6.8% | Elite: 12%+")),React.createElement("div",{className:"stat-card"},React.createElement("div",{className:"stat-label"},"Attack Angle"),React.createElement("div",{className:"stat-value"},s.attackAngle.current,"\xB0"),React.createElement("div",{className:"stat-context"},s.attackAngle.current>10?"Upward":s.attackAngle.current<-5?"Downward":"Level"," swing")),React.createElement("div",{className:"stat-card"},React.createElement("div",{className:"stat-label"},"Avg Exit Velocity"),React.createElement("div",{className:"stat-value"},s.aggregateStats.avgExitVelo," mph"),React.createElement("div",{className:"stat-context"},"Hard Hit: 95+ mph"))),React.createElement("div",{className:"spray-chart"},React.createElement("h4",null,"Spray Chart (2025 Season)"),React.createElement("canvas",{ref:c,width:600,height:400,className:"spray-chart-canvas"}),React.createElement("p",{className:"chart-description"},"Batted ball outcomes colored by expected batting average (xBA). Circles with gold rings indicate barrels (98+ mph exit velo, 26-30\xB0 launch angle).")),React.createElement("div",{className:"attack-angle-section"},React.createElement("h4",null,"Attack Angle Analysis (2025)"),React.createElement("p",{className:"innovation-badge"},"\u{1F195} Bat Tracking Innovation"),React.createElement("div",{className:"attack-angle-grid"},React.createElement("div",{className:"angle-metric"},React.createElement("span",{className:"metric-label"},"Entry Angle"),React.createElement("span",{className:"metric-value"},s.attackAngle.entryAngle,"\xB0")),React.createElement("div",{className:"angle-metric"},React.createElement("span",{className:"metric-label"},"Exit Angle"),React.createElement("span",{className:"metric-value"},s.attackAngle.exitAngle,"\xB0")),React.createElement("div",{className:"angle-metric"},React.createElement("span",{className:"metric-label"},"Consistency"),React.createElement("span",{className:"metric-value"},s.attackAngle.consistency,"%"))),React.createElement("p",{className:"angle-context"},"Attack angle measures the bat's path through the hitting zone. Positive values indicate an upward swing plane, which can generate more home runs but may lead to more strikeouts. Consistency represents how repeatable the swing path is across at-bats."))),React.createElement("div",{className:"data-source"},React.createElement("p",null,"Data Source: ",React.createElement("a",{href:"https://baseballsavant.mlb.com/statcast_search",target:"_blank",rel:"noopener noreferrer"},"MLB Statcast")," | Updated: ",new Date().toLocaleString("en-US",{timeZone:"America/Chicago"})))):React.createElement("div",{className:"statcast-error"},React.createElement("p",null,"Failed to load Statcast data. Please try again."))},NextGenStatsVisualization=({player:N,team:y})=>{const[s,l]=React.useState(null),[S,b]=React.useState(!0),[c,h]=React.useState(null),x=React.useRef(null),A=(n,e,t,i)=>{const r=Math.exp(-n/40),o=Math.min(i/5,1),p=Math.exp(-t/3);return Math.min(r*.4+o*.4+p*.2,.98)};if(React.useEffect(()=>{(async()=>{b(!0);try{const e=N?.position||"QB",t=e==="QB",i=["WR","TE"].includes(e),r=["CB","S","LB"].includes(e),o={player:N||"Sample Player",team:y||"TEN",position:e,season:2025,plays:Array.from({length:10},(p,d)=>{const v=5+Math.random()*40,g=Math.random()*6,f=Math.random()*4;return{playId:`2025_W${Math.ceil(d/2)}_P${d+1}`,quarter:Math.ceil(Math.random()*4),down:Math.ceil(Math.random()*4),distance:Math.ceil(v),yardLine:Math.ceil(Math.random()*100),qbLocation:{x:50,y:30},receiverLocation:{x:50+Math.random()*30-15,y:30+v},defenderLocation:{x:50+Math.random()*30-15,y:30+v-g},completionProbability:A(v,g,f,g),actualResult:Math.random()>.5?"Complete":"Incomplete",separation:g,pressure:f}}),trackingStats:{topSpeed:20.5+Math.random()*2,avgSpeed:15.2+Math.random()*2,avgAcceleration:2.8+Math.random()*.5,avgSeparation:2.5+Math.random()*1.5},...t&&{completionStats:{expectedCompPct:.642,actualCompPct:.678,cpoeDelta:.036}},...r&&{coverageStats:{primaryCoveragePct:78.5,targetsAllowed:52,completionsAllowed:34,compRateAgainst:65.4,yardsAllowed:487,tdsAllowed:3}}};l(o),o.plays.length>0&&h(o.plays[0])}catch(e){console.error("Failed to fetch Next Gen Stats data:",e)}finally{b(!1)}})()},[N,y]),React.useEffect(()=>{if(!c||!x.current)return;const n=x.current,e=n.getContext("2d"),t=n.width,i=n.height;e.clearRect(0,0,t,i),e.fillStyle="#1a472a",e.fillRect(0,0,t,i),e.strokeStyle="#ffffff",e.lineWidth=1;for(let R=0;R<=10;R++){const u=t/10*R;e.beginPath(),e.moveTo(u,0),e.lineTo(u,i),e.stroke()}const r=c.yardLine/100*i;e.strokeStyle="#fbbf24",e.lineWidth=3,e.beginPath(),e.moveTo(0,r),e.lineTo(t,r),e.stroke();const o=c.qbLocation.x/100*t,p=c.qbLocation.y/100*i;e.fillStyle="#3b82f6",e.beginPath(),e.arc(o,p,8,0,Math.PI*2),e.fill(),e.strokeStyle="#ffffff",e.lineWidth=2,e.stroke();const d=c.receiverLocation.x/100*t,v=c.receiverLocation.y/100*i;e.fillStyle="#3b82f6",e.beginPath(),e.arc(d,v,8,0,Math.PI*2),e.fill();const g=c.defenderLocation.x/100*t,f=c.defenderLocation.y/100*i;e.fillStyle="#ef4444",e.beginPath(),e.arc(g,f,8,0,Math.PI*2),e.fill(),e.strokeStyle="#eab308",e.lineWidth=2,e.setLineDash([5,5]),e.beginPath(),e.moveTo(d,v),e.lineTo(g,f),e.stroke(),e.setLineDash([]),e.font="12px Inter",e.fillStyle="#ffffff",e.fillText("QB",o-10,p-12),e.fillText("WR",d-10,v-12),e.fillText("DB",g-10,f-12),e.fillText(`Sep: ${c.separation.toFixed(1)} yds`,(d+g)/2+10,(v+f)/2)},[c]),S)return React.createElement("div",{className:"nextgen-loading"},React.createElement("div",{className:"spinner"}),React.createElement("p",null,"Loading Next Gen Stats..."));if(!s)return React.createElement("div",{className:"nextgen-error"},React.createElement("p",null,"Failed to load Next Gen Stats. Please try again."));const m=s.position==="QB",a=["CB","S","LB"].includes(s.position);return React.createElement("div",{className:"nextgen-visualization"},React.createElement("div",{className:"nextgen-header"},React.createElement("h3",null,"NFL Next Gen Stats"),React.createElement("div",{className:"player-info"},React.createElement("span",{className:"player-name"},s.player),React.createElement("span",{className:"team-badge"},s.team),React.createElement("span",{className:"position-badge"},s.position),React.createElement("span",{className:"season-year"},s.season))),React.createElement("div",{className:"nextgen-content"},React.createElement("div",{className:"tracking-stats-grid"},React.createElement("div",{className:"stat-card"},React.createElement("div",{className:"stat-label"},"Top Speed"),React.createElement("div",{className:"stat-value"},s.trackingStats.topSpeed.toFixed(1)," mph")),React.createElement("div",{className:"stat-card"},React.createElement("div",{className:"stat-label"},"Avg Speed"),React.createElement("div",{className:"stat-value"},s.trackingStats.avgSpeed.toFixed(1)," mph")),React.createElement("div",{className:"stat-card"},React.createElement("div",{className:"stat-label"},"Avg Acceleration"),React.createElement("div",{className:"stat-value"},s.trackingStats.avgAcceleration.toFixed(1)," yd/s\xB2")),React.createElement("div",{className:"stat-card"},React.createElement("div",{className:"stat-label"},"Avg Separation"),React.createElement("div",{className:"stat-value"},s.trackingStats.avgSeparation.toFixed(1)," yds"))),m&&s.completionStats&&React.createElement("div",{className:"completion-prob-section"},React.createElement("h4",null,"Completion Probability (2025 Model)"),React.createElement("div",{className:"comp-prob-grid"},React.createElement("div",{className:"stat-card"},React.createElement("div",{className:"stat-label"},"Expected Comp %"),React.createElement("div",{className:"stat-value"},(s.completionStats.expectedCompPct*100).toFixed(1),"%")),React.createElement("div",{className:"stat-card"},React.createElement("div",{className:"stat-label"},"Actual Comp %"),React.createElement("div",{className:"stat-value"},(s.completionStats.actualCompPct*100).toFixed(1),"%")),React.createElement("div",{className:"stat-card"},React.createElement("div",{className:"stat-label"},"CPOE Delta"),React.createElement("div",{className:`stat-value ${s.completionStats.cpoeDelta>0?"positive":"negative"}`},s.completionStats.cpoeDelta>0?"+":"",(s.completionStats.cpoeDelta*100).toFixed(1),"%"))),React.createElement("p",{className:"model-context"},"Completion Percentage Over Expected (CPOE) measures QB accuracy relative to difficulty. Positive CPOE indicates better-than-expected performance on difficult throws.")),a&&s.coverageStats&&React.createElement("div",{className:"coverage-section"},React.createElement("h4",null,"Coverage Responsibility (AWS ML)"),React.createElement("div",{className:"coverage-grid"},React.createElement("div",{className:"stat-card"},React.createElement("div",{className:"stat-label"},"Primary Coverage %"),React.createElement("div",{className:"stat-value"},s.coverageStats.primaryCoveragePct.toFixed(1),"%")),React.createElement("div",{className:"stat-card"},React.createElement("div",{className:"stat-label"},"Targets Allowed"),React.createElement("div",{className:"stat-value"},s.coverageStats.targetsAllowed)),React.createElement("div",{className:"stat-card"},React.createElement("div",{className:"stat-label"},"Completions Allowed"),React.createElement("div",{className:"stat-value"},s.coverageStats.completionsAllowed)),React.createElement("div",{className:"stat-card"},React.createElement("div",{className:"stat-label"},"Comp Rate Against"),React.createElement("div",{className:"stat-value"},s.coverageStats.compRateAgainst.toFixed(1),"%"))),React.createElement("p",{className:"model-context"},"AWS Machine Learning determines primary coverage responsibility on each play, attributing targets and completions to the defender with the highest coverage probability.")),c&&React.createElement("div",{className:"play-visualization"},React.createElement("h4",null,"Play Visualization (10Hz Tracking)"),React.createElement("canvas",{ref:x,width:600,height:400,className:"field-canvas"}),React.createElement("div",{className:"play-details"},React.createElement("p",null,React.createElement("strong",null,"Play:")," ",c.playId," |",React.createElement("strong",null," Q",c.quarter)," |",React.createElement("strong",null," ",c.down,"&",c.distance)," |",React.createElement("strong",null," Comp Prob:")," ",(c.completionProbability*100).toFixed(1),"% |",React.createElement("strong",null," Result:")," ",c.actualResult))),React.createElement("div",{className:"play-selector"},React.createElement("h4",null,"Sample Plays"),React.createElement("div",{className:"play-buttons"},s.plays.slice(0,5).map((n,e)=>React.createElement("button",{key:n.playId,className:`play-button ${c?.playId===n.playId?"active":""}`,onClick:()=>h(n)},"Q",n.quarter," - ",n.down,"&",n.distance))))),React.createElement("div",{className:"data-source"},React.createElement("p",null,"Data Source: ",React.createElement("a",{href:"https://nextgenstats.nfl.com/",target:"_blank",rel:"noopener noreferrer"},"NFL Next Gen Stats")," | Updated: ",new Date().toLocaleString("en-US",{timeZone:"America/Chicago"}))))},AIPredictions=({player:N,team:y,sport:s})=>{const[l,S]=React.useState(null),[b,c]=React.useState(!0),[h,x]=React.useState("injury"),[A,m]=React.useState({injury:91.5,performance:80}),a=React.useRef(null);React.useEffect(()=>{(async()=>{c(!0);try{const t=n(N,y,s);S(t)}catch(t){console.error("Failed to fetch AI predictions:",t)}finally{c(!1)}})()},[N,y,s,h]),React.useEffect(()=>{if(!l||!a.current)return;const e=a.current,t=e.getContext("2d"),i=e.width,r=e.height,o=window.devicePixelRatio||1;e.width=i*o,e.height=r*o,t.scale(o,o),t.clearRect(0,0,i,r);const p=h==="injury"?l.injuryRisk.factorImportance:l.performanceForecast.factorImportance,d=30,v=10,g=i-150;p.forEach((f,R)=>{const u=R*(d+v)+20,P=f.importance/100*g;t.fillStyle="#1f2937",t.fillRect(120,u,g,d);const k=t.createLinearGradient(120,u,120+P,u);h==="injury"?(k.addColorStop(0,"#ef4444"),k.addColorStop(1,"#dc2626")):(k.addColorStop(0,"#22c55e"),k.addColorStop(1,"#16a34a")),t.fillStyle=k,t.fillRect(120,u,P,d),t.font="14px Inter",t.fillStyle="#ffffff",t.textAlign="right",t.fillText(f.name,110,u+d/2+5),t.textAlign="left",t.fillText(`${f.importance}%`,120+P+10,u+d/2+5);const M=f.trend==="increasing"?"\u2191":f.trend==="declining"?"\u2193":"\u2192",w=f.trend==="increasing"?"#ef4444":f.trend==="declining"?"#22c55e":"#9ca3af";t.fillStyle=w,t.font="16px Inter",t.fillText(M,i-40,u+d/2+5)})},[l,h]);const n=(e,t,i)=>{const r=Math.random()*.4,o={probability:r,severity:r>.25?"High":r>.15?"Moderate":"Low",timeframe:"30 days",confidence:.915,factorImportance:[{name:"Workload",importance:35,trend:"increasing"},{name:"Age",importance:25,trend:"stable"},{name:"Recent Form",importance:20,trend:"declining"},{name:"Injury History",importance:15,trend:"increasing"},{name:"Position Demands",importance:5,trend:"stable"}],recommendation:r>.25?"Consider reducing workload by 15-20% over next 2 weeks":r>.15?"Monitor workload trends and maintain current recovery protocols":"Continue current training regimen"},p=.5+Math.random()*.3,d={expectedPerformance:p,performanceLevel:p>.7?"Above Average":p>.6?"Average":"Below Average",timeframe:"Next 7 games",confidence:.8,factorImportance:[{name:"Recent Stats",importance:30,trend:"improving"},{name:"Matchup Quality",importance:25,trend:"favorable"},{name:"Rest Days",importance:20,trend:"optimal"},{name:"Team Performance",importance:15,trend:"stable"},{name:"Home/Away",importance:10,trend:"neutral"}],projection:{next7Games:Array.from({length:7},(v,g)=>({game:g+1,expectedScore:(p*100+(Math.random()-.5)*20).toFixed(1),confidence:(.8+Math.random()*.1).toFixed(2)}))}};return{injuryRisk:o,performanceForecast:d}};return b?React.createElement("div",{className:"ai-predictions-loading"},React.createElement("div",{className:"spinner"}),React.createElement("p",null,"Running AI models...")):l?React.createElement("div",{className:"ai-predictions"},React.createElement("div",{className:"ai-header"},React.createElement("h3",null,"AI Predictions (2025)"),React.createElement("div",{className:"model-selector"},React.createElement("button",{className:`model-button ${h==="injury"?"active":""}`,onClick:()=>x("injury")},"LSTM Injury Risk",React.createElement("span",{className:"model-accuracy"},A.injury,"% Accuracy")),React.createElement("button",{className:`model-button ${h==="performance"?"active":""}`,onClick:()=>x("performance")},"XGBoost Performance",React.createElement("span",{className:"model-accuracy"},A.performance,"% Accuracy")))),React.createElement("div",{className:"ai-content"},h==="injury"&&React.createElement("div",{className:"injury-risk-view"},React.createElement("div",{className:"prediction-card"},React.createElement("div",{className:"prediction-header"},React.createElement("h4",null,"Injury Risk Assessment"),React.createElement("span",{className:"timeframe"},l.injuryRisk.timeframe)),React.createElement("div",{className:"prediction-main"},React.createElement("div",{className:`risk-indicator ${l.injuryRisk.severity.toLowerCase()}`},React.createElement("div",{className:"risk-probability"},(l.injuryRisk.probability*100).toFixed(1),"%"),React.createElement("div",{className:"risk-severity"},l.injuryRisk.severity," Risk")),React.createElement("div",{className:"risk-details"},React.createElement("p",{className:"confidence"},"Model Confidence: ",(l.injuryRisk.confidence*100).toFixed(1),"%"),React.createElement("p",{className:"recommendation"},React.createElement("strong",null,"Recommendation:")," ",l.injuryRisk.recommendation)))),React.createElement("div",{className:"factor-importance-card"},React.createElement("h4",null,"Risk Factor Importance"),React.createElement("canvas",{ref:a,width:600,height:250,className:"factor-canvas"}),React.createElement("p",{className:"model-explanation"},"LSTM Neural Network analyzes historical injury patterns, workload data, and biomechanical factors to predict injury probability over the next 30 days."))),h==="performance"&&React.createElement("div",{className:"performance-forecast-view"},React.createElement("div",{className:"prediction-card"},React.createElement("div",{className:"prediction-header"},React.createElement("h4",null,"Performance Forecast"),React.createElement("span",{className:"timeframe"},l.performanceForecast.timeframe)),React.createElement("div",{className:"prediction-main"},React.createElement("div",{className:`performance-indicator ${l.performanceForecast.performanceLevel.replace(" ","-").toLowerCase()}`},React.createElement("div",{className:"performance-score"},(l.performanceForecast.expectedPerformance*100).toFixed(1)),React.createElement("div",{className:"performance-level"},l.performanceForecast.performanceLevel)),React.createElement("div",{className:"performance-details"},React.createElement("p",{className:"confidence"},"Model Confidence: ",(l.performanceForecast.confidence*100).toFixed(1),"%")))),React.createElement("div",{className:"projection-grid"},React.createElement("h4",null,"Next 7 Games Projection"),React.createElement("div",{className:"games-grid"},l.performanceForecast.projection.next7Games.map(e=>React.createElement("div",{key:e.game,className:"game-projection"},React.createElement("div",{className:"game-number"},"Game ",e.game),React.createElement("div",{className:"game-score"},e.expectedScore),React.createElement("div",{className:"game-confidence"},(parseFloat(e.confidence)*100).toFixed(0),"%"))))),React.createElement("div",{className:"factor-importance-card"},React.createElement("h4",null,"Performance Factor Importance"),React.createElement("canvas",{ref:a,width:600,height:250,className:"factor-canvas"}),React.createElement("p",{className:"model-explanation"},"XGBoost Ensemble combines gradient boosting with multiple decision trees to forecast expected performance based on recent form, matchup quality, and rest.")))),React.createElement("div",{className:"ai-disclaimer"},React.createElement("p",null,React.createElement("strong",null,"Disclaimer:")," AI predictions are probabilistic estimates based on historical data and should not be used as the sole basis for decisions. Actual outcomes may vary significantly."))):React.createElement("div",{className:"ai-predictions-error"},React.createElement("p",null,"Failed to generate predictions. Please try again."))};export default{StatcastVisualization,NextGenStatsVisualization,AIPredictions};
//# sourceMappingURL=analytics-advanced.min.js.map
