name = "college-baseball-tracker"
pages_build_output_dir = "dist"
compatibility_date = "2025-01-01"

# KV namespace for caching (existing CACHE namespace from blazesportsintel)
kv_namespaces = [
  { binding = "KV", id = "a53c3726fc3044be82e79d2d1e371d26" },
  { binding = "BASEBALL_RANKINGS_CACHE", id = "a53c3726fc3044be82e79d2d1e371d26" }
]

# Environment variables
[vars]
ENVIRONMENT = "production"

# D1 database for storing historical sports data
[[d1_databases]]
binding = "DB"
database_name = "blazesports-historical"
database_id = "612f6f42-226d-4345-bb1c-f0367292f55e"

# Durable Object binding (references Worker deployment)
[[durable_objects.bindings]]
name = "GAME_MONITOR"
class_name = "GameMonitorDO"
script_name = "blazesports-game-monitor"

# Note: Durable Objects are deployed separately as a Worker
# See wrangler.worker.toml for Durable Object configuration

[env.preview]
name = "blazesportsintel-baseball-rankings-preview"
main = "workers/baseball-rankings/index.ts"
workers_dev = true

[[env.preview.kv_namespaces]]
binding = "BASEBALL_RANKINGS_CACHE"
id = "a53c3726fc3044be82e79d2d1e371d26"

[[env.preview.routes]]
pattern = "college-baseball-tracker.pages.dev/baseball/rankings"
custom_domain = true

[env.production]
name = "blazesportsintel-baseball-rankings"
main = "workers/baseball-rankings/index.ts"
workers_dev = false

[[env.production.kv_namespaces]]
binding = "BASEBALL_RANKINGS_CACHE"
id = "a53c3726fc3044be82e79d2d1e371d26"

[[env.production.routes]]
pattern = "blazesportsintel.com/baseball/rankings"
zone_name = "blazesportsintel.com"
