# Cloudflare Workers Configuration
# Copy this file to wrangler.toml and update with your specific values
# This example is for the live-sports-scoreboard-api repo

name = "bsi-scores-api"
main = "src/index.js"
compatibility_date = "2025-11-01"

# Production environment
[env.production]
name = "bsi-scores-api"
route = { pattern = "api.blazesportsintel.com/scores/*", zone_name = "blazesportsintel.com" }

# Staging environment
[env.staging]
name = "bsi-scores-api-staging"
route = { pattern = "staging-api.blazesportsintel.com/scores/*", zone_name = "blazesportsintel.com" }

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "bsi-scores"
database_id = "YOUR_D1_DATABASE_ID"  # Get from: wrangler d1 list

# KV Namespace binding for caching
[[kv_namespaces]]
binding = "CACHE"
id = "YOUR_KV_NAMESPACE_ID"  # Get from: wrangler kv:namespace list

# R2 Bucket binding for media storage
[[r2_buckets]]
binding = "MEDIA"
bucket_name = "bsi-media-prod"

# Environment variables (use wrangler secret put for sensitive values)
[vars]
ENVIRONMENT = "production"
API_VERSION = "v1"
