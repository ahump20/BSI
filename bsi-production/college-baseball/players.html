<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="D1 college baseball player statistics, stats leaders, and prospect rankings.">
  <title>Players | College Baseball | Blaze Sports Intel</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Oswald:wght@400;500;600;700&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
  <style>
    :root{--bsi-burnt-orange:#BF5700;--bsi-charcoal:#1A1A1A;--bsi-midnight:#0D0D0D;--bsi-cream:#FAF8F5;--bsi-ember:#FF6B35;--bsi-gold:#C9A227;--font-display:'Oswald',sans-serif;--font-body:'Cormorant Garamond',Georgia,serif;--font-ui:'Oswald',sans-serif;--font-mono:'IBM Plex Mono',monospace;--bg-primary:var(--bsi-midnight);--bg-secondary:var(--bsi-charcoal);--text-primary:var(--bsi-cream);--text-secondary:rgba(250,248,245,0.7);--text-muted:rgba(250,248,245,0.5);--border-color:rgba(255,255,255,0.1)}/* BSI Brand: Dark mode only */
    body{font-family:var(--font-body);color:var(--bsi-cream);background:var(--bsi-midnight);-webkit-font-smoothing:antialiased}
    a{color:inherit;text-decoration:none}
    .header{position:fixed;top:0;left:0;right:0;z-index:100;padding:1rem 2rem;background:rgba(13,13,13,0.95);backdrop-filter:blur(10px);border-bottom:1px solid rgba(191,87,0,0.2)}
    .header-inner{max-width:1400px;margin:0 auto;display:flex;align-items:center;justify-content:space-between}
    .logo{font-family:var(--font-display);font-size:1.5rem;font-weight:700;background:linear-gradient(135deg,var(--bsi-burnt-orange),var(--bsi-ember));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
    .nav{display:flex;gap:2rem}.nav a{font-family:var(--font-ui);font-size:0.875rem;font-weight:500;color:rgba(250,248,245,0.8)}.nav a:hover,.nav a.active{color:var(--bsi-burnt-orange)}
    .page-header{padding:8rem 2rem 3rem;background:linear-gradient(180deg,var(--bsi-midnight),var(--bsi-charcoal))}
    .page-header-inner{max-width:1200px;margin:0 auto}
    .page-header h1{font-family:var(--font-display);font-size:clamp(2rem,5vw,3rem);margin-bottom:0.5rem}
    .page-header h1 span{display:block;color:var(--bsi-burnt-orange)}
    .page-header p{color:rgba(250,248,245,0.7);font-size:1.125rem}
    .sub-nav{padding:1rem 2rem;background:var(--bsi-charcoal);border-bottom:1px solid rgba(255,255,255,0.1);position:sticky;top:60px;z-index:50}
    .sub-nav-inner{max-width:1200px;margin:0 auto;display:flex;gap:2rem;overflow-x:auto}
    .sub-nav a{font-family:var(--font-ui);font-size:0.875rem;font-weight:500;color:rgba(250,248,245,0.7);white-space:nowrap;padding:0.5rem 0;border-bottom:2px solid transparent}
    .sub-nav a:hover{color:var(--bsi-cream)}.sub-nav a.active{color:var(--bsi-burnt-orange);border-color:var(--bsi-burnt-orange)}
    .content{padding:2rem;background:var(--bsi-midnight);min-height:60vh}
    .content-inner{max-width:1200px;margin:0 auto}
    .section-header{font-family:var(--font-display);font-size:1.5rem;color:var(--bsi-burnt-orange);margin-bottom:1.5rem;margin-top:2rem}
    .section-header:first-child{margin-top:0}
    .season-notice{background:linear-gradient(135deg,rgba(191,87,0,0.1),rgba(26,26,26,0.9));border:1px solid var(--bsi-burnt-orange);border-radius:12px;padding:2rem;text-align:center;margin-bottom:2rem}
    .season-notice h3{font-family:var(--font-display);font-size:1.25rem;color:var(--bsi-burnt-orange);margin-bottom:0.5rem}
    .season-notice p{color:rgba(250,248,245,0.7);max-width:500px;margin:0 auto}
    .season-date{font-family:var(--font-mono);font-size:1.5rem;color:var(--bsi-gold);margin:1rem 0}
    .players-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1.5rem}
    .player-card{background:var(--bsi-charcoal);border:1px solid rgba(255,255,255,0.1);border-radius:12px;padding:1.5rem;transition:all 0.2s}
    .player-card:hover{border-color:var(--bsi-burnt-orange);transform:translateY(-2px)}
    .player-header{display:flex;align-items:center;gap:1rem;margin-bottom:1rem}
    .player-avatar{width:50px;height:50px;border-radius:50%;background:rgba(191,87,0,0.2);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1rem;color:var(--bsi-burnt-orange);border:2px solid var(--bsi-burnt-orange)}
    .player-info h4{font-family:var(--font-ui);font-size:1rem;font-weight:600}
    .player-info .meta{font-size:0.8rem;color:rgba(250,248,245,0.5)}
    .player-stats{display:grid;grid-template-columns:repeat(3,1fr);gap:0.5rem;margin-top:1rem;padding-top:1rem;border-top:1px solid rgba(255,255,255,0.1)}
    .stat-item{text-align:center}
    .stat-value{font-family:var(--font-mono);font-size:1.1rem;color:var(--bsi-burnt-orange)}
    .stat-label{font-size:0.65rem;color:rgba(250,248,245,0.4);text-transform:uppercase}
    .player-badge{display:inline-block;padding:0.2rem 0.5rem;background:rgba(201,162,39,0.2);color:var(--bsi-gold);font-family:var(--font-mono);font-size:0.65rem;border-radius:4px;margin-left:0.5rem}
    .loading{text-align:center;padding:3rem;color:var(--bsi-burnt-orange)}
    .footer{padding:3rem 2rem;background:var(--bsi-charcoal);text-align:center;border-top:1px solid rgba(191,87,0,0.2)}
    .footer p{color:rgba(250,248,245,0.5);font-size:0.875rem}
    .footer .tagline{font-family:var(--font-display);font-style:italic;color:var(--bsi-burnt-orange);margin-top:0.5rem}
    /* Mobile Menu */
    .mobile-menu-btn { display: none; flex-direction: column; gap: 5px; padding: 8px; background: transparent; border: none; cursor: pointer; }
    .mobile-menu-btn span { display: block; width: 24px; height: 2px; background: var(--bsi-cream, #FAF8F5); transition: all 0.3s; }
    .mobile-menu-btn.active span:nth-child(1) { transform: rotate(45deg) translate(5px, 5px); }
    .mobile-menu-btn.active span:nth-child(2) { opacity: 0; }
    .mobile-menu-btn.active span:nth-child(3) { transform: rotate(-45deg) translate(5px, -5px); }.theme-toggle{background:transparent;border:1px solid var(--border-color);border-radius:6px;padding:0.5rem;cursor:pointer;color:var(--text-primary);display:flex;align-items:center;justify-content:center}.theme-toggle:hover{border-color:var(--bsi-burnt-orange)}.theme-toggle svg{width:18px;height:18px}
    @media (max-width: 768px) {
      .mobile-menu-btn { display: flex; }grid-template-columns:1fr}}
  </style>
</head>
<body>
  <header class="header"><div class="header-inner"><a href="/" class="logo">Blaze Sports Intel</a><button class="mobile-menu-btn" aria-label="Menu"><span></span><span></span><span></span></button><nav class="nav"><a href="/college-baseball" class="active">College Baseball</a><a href="/mlb">MLB</a><a href="/nfl">NFL</a><a href="/tools">Tools</a><a href="/login">Sign In</a><button class="theme-toggle" aria-label="Toggle theme"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg></button></nav></div></header>
  <main>
    <section class="page-header"><div class="page-header-inner"><h1>Players<span>Stats. Leaders. Prospects.</span></h1><p>D1 college baseball player statistics and rankings.</p></div></section>
    <nav class="sub-nav"><div class="sub-nav-inner"><a href="/college-baseball">Overview</a><a href="/college-baseball/scores">Scores</a><a href="/college-baseball/standings">Standings</a><a href="/college-baseball/rankings">Rankings</a><a href="/college-baseball/teams">Teams</a><a href="/college-baseball/players" class="active">Players</a><a href="/college-baseball/transfer-portal">Portal</a><a href="/college-baseball/news">News</a></div></nav>
        <section class="content"><div class="content-inner">
      <div class="search-bar">
        <input type="text" class="search-input" id="playerSearch" placeholder="Search players by name..." aria-label="Search players">
        <select class="filter-select" id="positionFilter" aria-label="Filter by position">
          <option value="">All Positions</option>
          <option value="P">Pitchers</option>
          <option value="C">Catchers</option>
          <option value="INF">Infielders</option>
          <option value="OF">Outfielders</option>
          <option value="UTL">Utility</option>
        </select>
        <select class="filter-select" id="statusFilter" aria-label="Filter by status">
          <option value="">All Status</option>
          <option value="committed">Committed</option>
          <option value="in_portal">In Portal</option>
        </select>
      </div>
      
      <div class="stats-summary" id="statsSummary"></div>
      
      <h2 class="section-header">All Players <span class="player-count" id="playerCount"></span></h2>
      <div id="allPlayers" class="players-grid"><div class="loading">Loading players...</div></div>
    </div></section>
  </main>
  <footer class="footer"><p>&copy; 2025 Blaze Sports Intel. Boerne, Texas.</p><p class="tagline">Born to Blaze the Path Less Beaten.</p></footer>
    <script>
    (function() {
      var allPlayers = [];
      var searchInput = document.getElementById('playerSearch');
      var positionFilter = document.getElementById('positionFilter');
      var statusFilter = document.getElementById('statusFilter');
      
      async function fetchPlayers() {
        try {
          var response = await fetch('/api/college-baseball/portal');
          var data = await response.json();
          
          if (data.success && data.players) {
            allPlayers = data.players;
            
            // Update summary stats
            var summary = data.summary || {};
            document.getElementById('statsSummary').innerHTML = 
              '<div class="summary-stat"><div class="value">' + (summary.total || allPlayers.length) + '</div><div class="label">Total Players</div></div>' +
              '<div class="summary-stat"><div class="value">' + (summary.available || 0) + '</div><div class="label">Available</div></div>' +
              '<div class="summary-stat"><div class="value">' + (summary.committed || 0) + '</div><div class="label">Committed</div></div>';
            
            renderPlayers();
          } else {
            document.getElementById('allPlayers').innerHTML = '<p style="color:rgba(250,248,245,0.5)">No players found.</p>';
          }
        } catch (error) {
          console.error('Error fetching players:', error);
          document.getElementById('allPlayers').innerHTML = '<p style="color:rgba(250,248,245,0.5)">Unable to load players. Please try again.</p>';
        }
      }
      
      function renderPlayers() {
        var search = searchInput.value.toLowerCase();
        var position = positionFilter.value;
        var status = statusFilter.value;
        
        var filtered = allPlayers.filter(function(player) {
          var matchesSearch = !search || player.player_name.toLowerCase().includes(search) || 
            (player.from_school && player.from_school.toLowerCase().includes(search)) ||
            (player.to_school && player.to_school.toLowerCase().includes(search));
          
          var matchesPosition = !position || 
            (position === 'P' && (player.position.includes('P') || player.position.includes('HP'))) ||
            (position === 'C' && player.position.includes('C')) ||
            (position === 'INF' && (player.position.includes('SS') || player.position.includes('1B') || player.position.includes('2B') || player.position.includes('3B'))) ||
            (position === 'OF' && (player.position.includes('OF') || player.position.includes('CF') || player.position.includes('LF') || player.position.includes('RF'))) ||
            (position === 'UTL' && (player.position.includes('UTL') || player.position.includes('DH')));
          
          var matchesStatus = !status || player.status === status || 
            (status === 'in_portal' && player.status === 'in-portal');
          
          return matchesSearch && matchesPosition && matchesStatus;
        });
        
        document.getElementById('playerCount').textContent = '(' + filtered.length + ')';
        
        if (filtered.length === 0) {
          document.getElementById('allPlayers').innerHTML = '<p style="color:rgba(250,248,245,0.5);text-align:center;padding:2rem">No players match your search.</p>';
          return;
        }
        
        // Sort by impact score
        filtered.sort(function(a, b) { return (b.impact_score || 0) - (a.impact_score || 0); });
        
        var html = filtered.map(function(player) {
          var initials = player.player_name.split(' ').map(function(n) { return n[0]; }).join('');
          var isPitcher = player.position.includes('HP') || player.position.includes('P');
          
          var stats = isPitcher ? [
            { value: player.stats_era ? player.stats_era.toFixed(2) : '--', label: 'ERA' },
            { value: player.stats_strikeouts || '--', label: 'K' },
            { value: player.stats_wins ? player.stats_wins + '-' + (player.stats_losses || 0) : '--', label: 'W-L' }
          ] : [
            { value: player.stats_avg ? player.stats_avg.toFixed(3).substring(1) : '--', label: 'AVG' },
            { value: player.stats_hr || '--', label: 'HR' },
            { value: player.stats_rbi || '--', label: 'RBI' }
          ];
          
          var impactBadge = player.impact_score > 7 ? '<span class="player-badge">Elite</span>' : 
                          player.impact_score > 5 ? '<span class="player-badge">Impact</span>' : '';
          
          var statusBadge = player.status === 'committed' ? '<span class="player-badge" style="background:rgba(34,197,94,0.2);color:#22c55e">Committed</span>' : 
                          '<span class="player-badge" style="background:rgba(239,68,68,0.2);color:#ef4444">Available</span>';
          
          return '<div class="player-card">' +
            '<div class="player-header">' +
              '<div class="player-avatar">' + initials + '</div>' +
              '<div class="player-info">' +
                '<h4>' + player.player_name + impactBadge + '</h4>' +
                '<div class="meta">' + player.position + ' · ' + player.year + ' · ' + (player.to_school || player.from_school) + '</div>' +
                '<div class="meta">' + statusBadge + '</div>' +
              '</div>' +
            '</div>' +
            '<div class="player-stats">' +
              stats.map(function(s) { return '<div class="stat-item"><div class="stat-value">' + s.value + '</div><div class="stat-label">' + s.label + '</div></div>'; }).join('') +
            '</div>' +
          '</div>';
        }).join('');
        
        document.getElementById('allPlayers').innerHTML = html;
      }
      
      // Event listeners
      searchInput.addEventListener('input', renderPlayers);
      positionFilter.addEventListener('change', renderPlayers);
      statusFilter.addEventListener('change', renderPlayers);
      
      // Initial load
      fetchPlayers();
    })();
  </script>
<script>
  (function() {
    var menuBtn = document.querySelector('.mobile-menu-btn');
    var nav = document.querySelector('.nav');
    if (menuBtn && nav) {
      menuBtn.addEventListener('click', function() {
        menuBtn.classList.toggle('active');
        nav.classList.toggle('open');
      });
    }

    var themeToggle = document.querySelector('.theme-toggle');
    if (themeToggle) {
      var savedTheme = localStorage.getItem('bsi-theme') || 'dark';
      document.documentElement.setAttribute('data-theme', savedTheme);
      themeToggle.addEventListener('click', function() {
        var current = document.documentElement.getAttribute('data-theme');
        var next = current === 'dark' ? 'light' : 'dark';
        document.documentElement.setAttribute('data-theme', next);
        localStorage.setItem('bsi-theme', next);
      });
    }
  })();
</script>
<script>if("serviceWorker" in navigator){navigator.serviceWorker.register("/sw.js").catch(console.error);}</script>
</body>
</html>
