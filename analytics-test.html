<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics Debug Test</title>
    <style>
        body {
            font-family: system-ui;
            background: #1a1a1a;
            color: #fff;
            padding: 40px;
            max-width: 800px;
            margin: 0 auto;
        }
        .status {
            padding: 20px;
            margin: 10px 0;
            border-radius: 8px;
            background: #2a2a2a;
        }
        .success { border-left: 4px solid #00ff00; }
        .error { border-left: 4px solid #ff0000; }
        .warning { border-left: 4px solid #ffaa00; }
        code {
            background: #000;
            padding: 2px 6px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <h1>üîß Analytics Page Debug Test</h1>
    <p>This page tests if React and all dependencies load correctly.</p>

    <div id="status"></div>
    <div id="react-test"></div>

    <script>
        const log = (message, type = 'info') => {
            const statusDiv = document.getElementById('status');
            const div = document.createElement('div');
            div.className = `status ${type}`;
            div.innerHTML = message;
            statusDiv.appendChild(div);
        };

        // Test 1: Basic JavaScript
        log('‚úÖ JavaScript is working', 'success');

        // Test 2: DOM Ready
        document.addEventListener('DOMContentLoaded', () => {
            log('‚úÖ DOM is ready', 'success');
        });

        // Test 3: Try to load React
        log('‚è≥ Loading React...', 'warning');
    </script>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"
            onload="log('‚úÖ React loaded: ' + React.version, 'success')"
            onerror="log('‚ùå Failed to load React from CDN', 'error')"></script>

    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"
            onload="log('‚úÖ ReactDOM loaded', 'success')"
            onerror="log('‚ùå Failed to load ReactDOM from CDN', 'error')"></script>

    <script src="https://unpkg.com/@babel/standalone/babel.min.js"
            onload="log('‚úÖ Babel loaded version: ' + Babel.version, 'success')"
            onerror="log('‚ùå Failed to load Babel from CDN', 'error')"></script>

    <script type="text/babel">
        setTimeout(() => {
            try {
                const { useState } = React;

                const TestComponent = () => {
                    const [count, setCount] = useState(0);
                    return React.createElement('div', { style: { padding: '20px', background: '#2a2a2a', borderRadius: '8px', marginTop: '20px' } },
                        React.createElement('h2', null, '‚úÖ React Component Working!'),
                        React.createElement('p', null, 'If you see this, React, ReactDOM, and Babel are all working correctly.'),
                        React.createElement('button', {
                            onClick: () => setCount(count + 1),
                            style: { padding: '10px 20px', fontSize: '16px', cursor: 'pointer' }
                        }, `Clicked ${count} times`)
                    );
                };

                ReactDOM.render(
                    React.createElement(TestComponent),
                    document.getElementById('react-test')
                );

                log('‚úÖ React component rendered successfully!', 'success');
                log('üéâ All systems working - the main analytics page should work too!', 'success');
            } catch (error) {
                log(`‚ùå React render error: ${error.message}`, 'error');
                log(`Stack: <code>${error.stack}</code>`, 'error');
            }
        }, 1000);
    </script>

    <div style="margin-top: 40px; padding: 20px; background: #2a2a2a; border-radius: 8px;">
        <h3>Debug Instructions:</h3>
        <ol>
            <li>If all checks above are green ‚úÖ, the analytics page should work</li>
            <li>If you see red ‚ùå errors, those indicate what's blocking the page</li>
            <li>Try opening <a href="/analytics.html" style="color: #00aaff;">the main analytics page</a> after confirming all green checks</li>
            <li>If main page still doesn't load, check browser console (F12) for errors</li>
        </ol>
    </div>
</body>
</html>
