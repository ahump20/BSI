/* FIX FOR ANALYTICS DASHBOARD OVERLAPPING CARDS */

/* Reset absolute positioning that's causing overlaps */
#analytics-dashboard .dashboard-card,
#analytics-dashboard .chart-card,
#analytics-dashboard .analytics-card,
.analytics-dashboard .dashboard-card,
.analytics-dashboard .chart-card {
    position: relative !important; /* Override absolute positioning */
    margin-bottom: 1.5rem !important; /* Add proper spacing */
    display: block !important;
}

/* Ensure proper grid layout for dashboard */
.dashboard-grid,
.analytics-grid {
    display: grid !important;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)) !important;
    gap: 2rem !important;
    padding: 1rem !important;
}

/* Fix any absolutely positioned overlays */
.dashboard-card::before,
.dashboard-card::after,
.chart-card::before,
.chart-card::after {
    position: absolute;
    z-index: 1; /* Keep overlays behind content */
    pointer-events: none; /* Don't block interactions */
}

/* Ensure card content is above overlays */
.dashboard-card > *,
.chart-card > * {
    position: relative;
    z-index: 2;
}

/* Fix spacing for analytics sections */
.analytics-container,
.dashboard-container {
    padding: 2rem 1rem !important;
    max-width: 1400px;
    margin: 0 auto;
}

/* Prevent cards from stacking on top of each other */
.analytics-dashboard-item,
.dashboard-item {
    position: static !important;
    margin: 1rem 0 !important;
    width: 100% !important;
    box-sizing: border-box !important;
}

/* Fix for white background overlapping cards */
.analytics-card-wrapper,
.dashboard-card-wrapper {
    background: transparent !important;
    position: relative !important;
    overflow: visible !important;
}

/* Ensure proper stacking context */
.analytics-section {
    position: relative;
    z-index: 1;
    isolation: isolate; /* Create new stacking context */
}

/* Fix mobile responsiveness */
@media (max-width: 768px) {
    .dashboard-grid,
    .analytics-grid {
        grid-template-columns: 1fr !important;
        gap: 1rem !important;
    }

    .dashboard-card,
    .chart-card {
        margin-bottom: 1rem !important;
    }
}

/* Additional fixes for overlapping white areas */
.analytics-dashboard {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.analytics-dashboard > div {
    position: relative !important;
    background: var(--glass-medium, rgba(255, 255, 255, 0.05));
    border: 1px solid var(--glass-border, rgba(255, 255, 255, 0.1));
    border-radius: 1rem;
    padding: 1.5rem;
    margin: 0 !important;
}

/* Ensure no absolute positioning on main dashboard elements */
#dashboardGrid > div,
.analytics-container > div {
    position: relative !important;
    top: auto !important;
    left: auto !important;
    right: auto !important;
    bottom: auto !important;
    transform: none !important;
}

/* Fix z-index stacking issues */
.dashboard-section {
    position: relative;
    z-index: 1;
}

.dashboard-section + .dashboard-section {
    margin-top: 2rem;
}

/* Clear any floats that might cause overlap */
.dashboard-container::after,
.analytics-container::after {
    content: "";
    display: table;
    clear: both;
}

/* Ensure proper flex/grid container behavior */
.dashboard-flex-container {
    display: flex;
    flex-wrap: wrap;
    gap: 1.5rem;
}

.dashboard-flex-container > * {
    flex: 1 1 300px;
    min-width: 0; /* Prevent flex items from overflowing */
}